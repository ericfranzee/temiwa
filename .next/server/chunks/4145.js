"use strict";exports.id=4145,exports.ids=[4145],exports.modules={64145:(e,t,i)=>{i.r(t),i.d(t,{BookingReviewEdit:()=>m});var o=i(95344),n=i(9758),s=i(11494),l=i(14373),r=i(74769),c=i(1475),a=i(66345),d=i(10947),u=i(64701);let m=({service:e,bookingId:t,onSuccess:i,bookingParentId:m,initialData:v})=>{let{t:p}=(0,n.$G)(),{language:h}=(0,a.r)(),g=(0,s.NL)(),{mutate:f,isLoading:y}=(0,l.D)({mutationFn:e=>r.s.createReview(t,e),onSuccess:()=>{(0,c.Vp)(p("review.successfully.changed")),g.invalidateQueries(["appointment",m,h?.locale]),i&&i()},onError:e=>{(0,c.vU)(e.message)}}),{mutate:x}=(0,l.D)({mutationFn:t=>d.p.createReview("shops",e?.shop_id,{...t,type:"shop"}),onSuccess:()=>{g.invalidateQueries(["reviewList",String(e?.shop_id),"shops"]),g.invalidateQueries(["groupRating","shops",e?.shop_id]),g.setQueryData(["canReview","shop",e?.shop_id],e=>e?{...e,data:{ordered:!0,added_review:!0}}:{data:{ordered:!0,added_review:!0},message:"success",status:!0,timestamp:""})}});return(0,o.jsxs)("div",{children:[o.jsx("div",{className:"md:text-head text-xl font-semibold mb-7",children:p("edit.review")}),(0,o.jsxs)("strong",{className:"md:text-3xl text-2xl font-semibold",children:[p("rate.your.experience.at")," ",e?.translation?.title]}),o.jsx(u.$,{isLoading:y,onSubmit:e=>{f(e),x(e)},initialData:v})]})}},64701:(e,t,i)=>{i.d(t,{$:()=>f});var o=i(95344),n=i(60708),s=i(91805),l=i(45406),r=i(70224),c=i(3729),a=i(9758),d=i(84502),u=i(96040),m=i(1781),v=i(89410),p=i(42473);let h={cleanliness:{icon:"/icons/clean.svg"},masters:{icon:"/icons/masters.svg"},location:{icon:"/icons/location.svg"},price:{icon:"/icons/price.svg"},interior:{icon:"/icons/interior.svg"},service:{icon:"/icons/quality.svg"},communication:{icon:"/icons/communication.svg"},equipment:{icon:"/icons/equipment.svg"}},g=d.object({comment:d.string().required(),rating:d.number().required()}),f=({onSubmit:e,isLoading:t,initialData:i})=>{let{t:d}=(0,a.$G)(),[f,y]=(0,c.useState)(i?{cleanliness:{icon:"/icons/clean.svg",selected:i.cleanliness},masters:{icon:"/icons/masters.svg",selected:i.masters},location:{icon:"/icons/location.svg",selected:i.location},price:{icon:"/icons/price.svg",selected:i.price},interior:{icon:"/icons/interior.svg",selected:i.interior},service:{icon:"/icons/quality.svg",selected:i.service},communication:{icon:"/icons/communication.svg",selected:i.communication},equipment:{icon:"/icons/equipment.svg",selected:i.equipment}}:h),{setValue:x,formState:{errors:w},register:C,handleSubmit:_}=(0,n.cI)({resolver:(0,u.X)(g),defaultValues:{rating:i?.rating||0,comment:i?.comment}}),j=e=>{y(t=>({...t,[e]:{...t[e],selected:!t[e].selected}}))};return(0,o.jsxs)("form",{onSubmit:_(t=>{e({...t,cleanliness:f.cleanliness.selected,masters:f.masters.selected,location:f.location.selected,price:f.price.selected,interior:f.interior.selected,service:f.service.selected,communication:f?.communication.selected,equipment:f.equipment.selected})}),children:[o.jsx("div",{className:"flex flex-col justify-center items-center w-full my-5",children:o.jsx(s.i,{onClick:e=>{x("rating",e)},emptyStyle:{display:"flex",gap:"15px"},fillStyle:{display:"flex",gap:"15px"},initialValue:i?.rating||0,fillIcon:o.jsx("div",{className:"text-yellow",children:o.jsx(l.Z,{size:25})}),emptyIcon:o.jsx(l.Z,{size:25})})}),o.jsx("div",{className:"grid grid-cols-3 md:gap-5 gap-2 my-7",children:Object.entries(f).map(([e,t])=>(0,o.jsxs)("button",{type:"button",onClick:()=>j(e),className:(0,p.Z)("rounded-button flex flex-col items-center gap-2.5 p-2.5 bg-gray-link hover:bg-gray-segment",t.selected&&"bg-yellow hover:bg-yellow"),children:[o.jsx(v.default,{src:t.icon,alt:e,width:40,height:40}),o.jsx("span",{className:"text-sm",children:d(e)})]},e))}),o.jsx(r.K,{...C("comment"),placeholder:d("comment"),rows:3,error:w.comment?.message}),o.jsx(m.z,{className:"mt-5",fullWidth:!0,loading:t,children:d("save")})]})}},45406:(e,t,i)=>{i.d(t,{Z:()=>n});var o=i(95344);i(3729);let n=({size:e,...t})=>(0,o.jsxs)("svg",{width:e||"16",height:e||"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[o.jsx("g",{clipPath:"url(#clip0_1_12182)",children:o.jsx("path",{d:"M8.00002 0.333359L10.8174 4.45536L15.6087 5.86136L12.5587 9.81469L12.702 14.8054L8.00002 13.1267L3.29802 14.8054L3.44136 9.81469L0.391357 5.86136L5.18269 4.45536L8.00002 0.333359ZM6.66669 8.00002H5.33336C5.33335 8.69573 5.60522 9.36389 6.09096 9.86194C6.5767 10.36 7.23785 10.6485 7.93334 10.6659C8.62882 10.6833 9.30357 10.4282 9.81361 9.95507C10.3236 9.48192 10.6286 8.82819 10.6634 8.13336L10.6667 8.00002H9.33336C9.33491 8.34601 9.2019 8.67906 8.96244 8.92879C8.72298 9.17853 8.39581 9.3254 8.05007 9.33839C7.70432 9.35137 7.36706 9.22944 7.10955 8.99836C6.85203 8.76729 6.69443 8.44516 6.67002 8.10002L6.66669 8.00002Z",fill:"currentColor"})}),o.jsx("defs",{children:o.jsx("clipPath",{id:"clip0_1_12182",children:o.jsx("rect",{width:"16",height:"16",fill:"white"})})})]})},91805:(e,t,i)=>{var o=i(95344),n=i(3729),s=function(){return(s=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function l(e,t,i){if(i||2==arguments.length)for(var o,n=0,s=t.length;n<s;n++)!o&&n in t||(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function r(e){var t=e.size,i=void 0===t?25:t,n=e.SVGstrokeColor,l=e.SVGstorkeWidth,r=e.SVGclassName,c=e.SVGstyle;return o.jsx("svg",s({className:void 0===r?"star-svg":r,style:c,stroke:void 0===n?"currentColor":n,fill:"currentColor",strokeWidth:void 0===l?0:l,viewBox:"0 0 24 24",width:i,height:i,xmlns:"http://www.w3.org/2000/svg"},{children:o.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})}))}function c(e,t){switch(t.type){case"PointerMove":return s(s({},e),{hoverValue:t.payload,hoverIndex:t.index});case"PointerLeave":return s(s({},e),{ratingValue:e.ratingValue,hoverIndex:0,hoverValue:null});case"MouseClick":return s(s({},e),{valueIndex:e.hoverIndex,ratingValue:t.payload});default:return e}}function a(){return"ontouchstart"in window||"undefined"!=typeof navigator&&navigator.maxTouchPoints>0}(function(e,t){void 0===t&&(t={});var i=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===i&&o.firstChild?o.insertBefore(n,o.firstChild):o.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}})(".style-module_starRatingWrap__q-lJC{display:inline-block;touch-action:none}.style-module_simpleStarRating__nWUxf{display:inline-block;overflow:hidden;position:relative;touch-action:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap}.style-module_fillIcons__6---A{display:inline-block;overflow:hidden;position:absolute;top:0;white-space:nowrap}.style-module_emptyIcons__Bg-FZ{display:inline-block}.style-module_tooltip__tKc3i{background-color:#333;border-radius:5px;color:#fff;display:inline-block;padding:5px 15px;vertical-align:middle}"),t.i=function(e){var t,i,d=e.onClick,u=e.onPointerMove,m=e.onPointerEnter,v=e.onPointerLeave,p=e.initialValue,h=void 0===p?0:p,g=e.iconsCount,f=void 0===g?5:g,y=e.size,x=void 0===y?40:y,w=e.readonly,C=void 0!==w&&w,_=e.rtl,j=void 0!==_&&_,b=e.customIcons,S=void 0===b?[]:b,k=e.allowFraction,V=void 0!==k&&k,N=e.style,L=e.className,I=e.transition,M=e.allowHover,G=void 0===M||M,P=e.disableFillHover,q=void 0!==P&&P,R=e.fillIcon,A=void 0===R?null:R,W=e.fillColor,z=e.fillColorArray,T=e.fillStyle,B=e.fillClassName,E=e.emptyIcon,F=void 0===E?null:E,Z=e.emptyColor,D=e.emptyStyle,H=e.emptyClassName,O=e.allowTitleTag,Q=e.showTooltip,$=e.tooltipDefaultText,K=e.tooltipArray,U=void 0===K?[]:K,J=e.tooltipStyle,X=e.tooltipClassName,Y=e.SVGclassName,ee=void 0===Y?"star-svg":Y,et=e.titleSeparator,ei=e.SVGstyle,eo=e.SVGstorkeWidth,en=void 0===eo?0:eo,es=e.SVGstrokeColor,el=void 0===es?"currentColor":es,er=n.useReducer(c,{hoverIndex:0,valueIndex:0,ratingValue:h,hoverValue:null}),ec=er[0],ea=ec.ratingValue,ed=ec.hoverValue,eu=ec.hoverIndex,em=ec.valueIndex,ev=er[1];n.useEffect(function(){h&&ev({type:"MouseClick",payload:0})},[h]);var ep=n.useMemo(function(){return V?2*f:f},[V,f]),eh=n.useMemo(function(){return h>ep?0:V||Math.floor(h)===h?Math.round(h/f*100):2*Math.ceil(h)*10},[V,h,f,ep]),eg=n.useMemo(function(){return(V?2*h-1:h-1)||0},[V,h]),ef=n.useCallback(function(e){return f%2!=0?e/2/10:e*f/100},[f]),ey=function(e){for(var t=e.clientX,i=e.currentTarget.children[0].getBoundingClientRect(),o=i.left,n=i.right,s=i.width,l=j?n-t:t-o,r=ep,c=Math.round(s/ep),a=0;a<=ep;a+=1)if(l<=c*a){r=0===a&&l<c?0:a;break}var d=r-1;r>0&&(ev({type:"PointerMove",payload:100*r/ep,index:d}),u&&ed&&u(ef(ed),d,e))},ex=function(e){ed&&(ev({type:"MouseClick",payload:ed}),d&&d(ef(ed),eu,e))},ew=n.useMemo(function(){if(G){if(q){var e=ea&&ea||eh;return ed&&ed>e?ed:e}return ed&&ed||ea&&ea||eh}return ea&&ea||eh},[G,q,ed,ea,eh]);n.useEffect(function(){U.length>ep&&console.error("tooltipArray Array length is bigger then Icons Count length.")},[U.length,ep]);var eC=n.useCallback(function(e){return ed&&e[eu]||ea&&e[em]||h&&e[eg]},[ed,eu,ea,em,h,eg]),e_=n.useMemo(function(){return ed&&ef(ed)||ea&&ef(ea)||h&&ef(eh)},[ed,ef,ea,h,eh]);return o.jsxs("span",s({className:"style-module_starRatingWrap__q-lJC",style:{direction:"".concat(j?"rtl":"ltr")}},{children:[o.jsxs("span",s({className:"".concat("style-module_simpleStarRating__nWUxf"," ").concat(void 0===L?"react-simple-star-rating":L),style:s({cursor:C?"":"pointer"},N),onPointerMove:C?void 0:ey,onPointerEnter:C?void 0:function(e){m&&m(e),a()&&ey(e)},onPointerLeave:C?void 0:function(e){a()&&ex(),ev({type:"PointerLeave"}),v&&v(e)},onClick:C?void 0:ex,"aria-hidden":"true"},{children:[o.jsx("span",s({className:"".concat("style-module_emptyIcons__Bg-FZ"," ").concat(void 0===H?"empty-icons":H),style:s({color:void 0===Z?"#cccccc":Z},D)},{children:l([],Array(f),!0).map(function(e,t){var i;return o.jsx(n.Fragment,{children:(null===(i=S[t])||void 0===i?void 0:i.icon)||F||o.jsx(r,{SVGclassName:ee,SVGstyle:ei,SVGstorkeWidth:en,SVGstrokeColor:el,size:x})},t)})})),o.jsx("span",s({className:"".concat("style-module_fillIcons__6---A"," ").concat(void 0===B?"filled-icons":B),style:s(((t={})[j?"right":"left"]=0,t.color=eC(void 0===z?[]:z)||(void 0===W?"#ffbc0b":W),t.transition=void 0!==I&&I?"width .2s ease, color .2s ease":"",t.width="".concat(ew,"%"),t),T),title:void 0===O||O?"".concat(e_," ").concat(void 0===et?"out of":et," ").concat(f):void 0},{children:l([],Array(f),!0).map(function(e,t){var i;return o.jsx(n.Fragment,{children:(null===(i=S[t])||void 0===i?void 0:i.icon)||A||o.jsx(r,{SVGclassName:ee,SVGstyle:ei,SVGstorkeWidth:en,SVGstrokeColor:el,size:x})},t)})}))]})),void 0!==Q&&Q&&o.jsx("span",s({className:"".concat("style-module_tooltip__tKc3i"," ").concat(void 0===X?"react-simple-star-rating-tooltip":X),style:s(((i={})[j?"marginRight":"marginLeft"]=20,i),J)},{children:(U.length>0?eC(U):e_)||(void 0===$?"Your Rate":$)}))]}))}}};