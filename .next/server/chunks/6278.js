"use strict";exports.id=6278,exports.ids=[6278],exports.modules={6278:(t,e,s)=>{s.r(e),s.d(e,{StaffSelect:()=>h});var r=s(95344),i=s(44224),a=s(24424),l=s(82460),n=s(11343),o=s(97273),c=s(77568),d=s(66345);let u=(0,o.default)(()=>Promise.all([s.e(3306),s.e(4697)]).then(s.bind(s,14697)).then(t=>({default:t.Empty})),{loadableGenerated:{modules:["/home/user/temiwa/app/(store)/(booking)/(witout-footer)/(navigation)/shops/[id]/booking/staff/components/staff-select/staff-select.tsx -> @/components/empty"]}}),h=({shopId:t,serviceTitle:e,selectedMasterId:s,onSelect:o,serviceId:h})=>{let{currency:p}=(0,d.r)(),{data:m,hasNextPage:v,fetchNextPage:x,isFetchingNextPage:g}=(0,i.N)(["masters",t,h],()=>a.L.list({shop_id:t,service_id:h,currency_id:p?.id}),{getNextPageParam:t=>t.links.next&&t.meta.current_page+1,suspense:!0}),f=(0,n.v)(m?.pages);return(0,r.jsxs)("div",{className:"pt-10 pb-6 px-6",children:[r.jsx("h2",{className:"text-xl font-semibold",children:e}),f&&0!==f.length?r.jsx(c.b,{hasMore:v,loadMore:x,loading:g,children:r.jsx("div",{className:"grid md:grid-cols-3 sm:grid-cols-3 grid-cols-2 gap-4 mt-6",children:f?.map(t=>r.jsx("button",{onClick:()=>o(t),children:r.jsx(l.N,{selected:s===t.id,data:t},t.id)},t.id))})}):r.jsx(u,{animated:!1})]})}},10167:(t,e,s)=>{s.d(e,{Z:()=>i});var r=s(95344);let i=({size:t,...e})=>r.jsx("svg",{width:t||"26",height:t||"26",...e,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{d:"M12.9998 2.16699C7.01984 2.16699 2.1665 7.02033 2.1665 13.0003C2.1665 18.9803 7.01984 23.8337 12.9998 23.8337C18.9798 23.8337 23.8332 18.9803 23.8332 13.0003C23.8332 7.02033 18.9798 2.16699 12.9998 2.16699ZM13.3573 18.417C13.1623 18.482 12.8265 18.482 12.6315 18.417C10.9415 17.8428 7.14984 15.427 7.14984 11.332C7.14984 9.52283 8.6015 8.06033 10.3998 8.06033C11.4615 8.06033 12.404 8.56949 12.9998 9.37116C13.5848 8.58032 14.5382 8.06033 15.5998 8.06033C17.3982 8.06033 18.8498 9.52283 18.8498 11.332C18.8498 15.427 15.0582 17.8428 13.3573 18.417Z",fill:"currentColor"})})},51854:(t,e,s)=>{s.d(e,{Z:()=>i});var r=s(95344);s(3729);let i=({size:t,...e})=>(0,r.jsxs)("svg",{width:t||"36",height:t||"36",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[r.jsx("path",{d:"M18 33C26.2843 33 33 26.2843 33 18C33 9.71573 26.2843 3 18 3C9.71573 3 3 9.71573 3 18C3 26.2843 9.71573 33 18 33Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.jsx("path",{d:"M18.4954 26.175C18.2254 26.265 17.7604 26.265 17.4904 26.175C15.1504 25.38 9.90039 22.0349 9.90039 16.3649C9.90039 13.8599 11.9104 11.835 14.4004 11.835C15.8704 11.835 17.1754 12.5399 18.0004 13.6499C18.8104 12.5549 20.1304 11.835 21.6004 11.835C24.0904 11.835 26.1004 13.8599 26.1004 16.3649C26.1004 22.0349 20.8504 25.38 18.4954 26.175Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})},77568:(t,e,s)=>{s.d(e,{b:()=>n});var r=s(95344),i=s(3729);let a=({threshold:t=.1,root:e=null,rootMargin:s="50%",enabled:r=!1,onScreen:a=()=>null})=>{let l=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let i=l?.current;if(!r||!i)return;let n=new IntersectionObserver(t=>t.forEach(t=>{t.isIntersecting&&a()}),{threshold:t,root:e,rootMargin:s});return n.observe(i),()=>{n.unobserve(i)}},[l?.current,r]),l};var l=s(55863);let n=({hasMore:t,loadMore:e,loading:s=!1,children:i})=>{let n=a({enabled:!!t&&!s,onScreen:()=>{e()},rootMargin:"30px",threshold:.2});return(0,r.jsxs)(r.Fragment,{children:[i,s&&r.jsx("div",{className:"flex justify-center my-7",children:r.jsx(l.Z,{})}),r.jsx("span",{"aria-label":"bottom",ref:n,style:{visibility:"hidden"}})]})}},82460:(t,e,s)=>{s.d(e,{N:()=>h});var r=s(95344),i=s(9758),a=s(82177);s(3729);var l=s(21335),n=s(56086),o=s(10167),c=s(51854),d=s(60112),u=s(42473);let h=({data:t,selected:e})=>{let{t:s}=(0,i.$G)(),{isLiked:h,handleLikeDisLike:p}=(0,d.U)("master",t.id);return(0,r.jsxs)("div",{className:(0,u.Z)("relative rounded-button overflow-hidden group justify-start h-full border border-gray-link",e&&"ring-2 ring-black"),children:[r.jsx("div",{className:"absolute top-3 left-3 z-[1] text-dark",children:r.jsx(n.h,{onClick:t=>{t.stopPropagation(),t.preventDefault(),p()},children:h?r.jsx(o.Z,{}):r.jsx(c.Z,{size:26})})}),r.jsx("div",{className:"relative aspect-[198/182]",children:r.jsx(a.I,{src:t?.img||"",alt:t?.firstname||"master",fill:!0,className:"object-cover transition-all group-hover:scale-105"})}),(0,r.jsxs)("div",{className:"xl:pb-5 lg:pb-3 px-3 pb-2 text-start",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[r.jsx("strong",{className:"text-lg font-semibold ",children:t?.firstname}),r.jsx("div",{className:"rounded-button border border-gray-link w-7 h-7 flex items-center justify-center z-[1] bg-white bg-opacity-60",children:r.jsx("span",{className:"text-sm font-semibold",children:t?.r_avg??0})})]}),r.jsx("span",{className:"text-sm text-gray-field",children:t?.translation?.title||s("master")}),(0,r.jsxs)("div",{className:"flex flex-wrap flex-col gap-1 pt-2.5 mt-2.5 border-t border-gray-link",children:[r.jsx("span",{className:"text-sm",children:s("starting.from")}),r.jsx("strong",{className:"text-lg font-bold",children:r.jsx(l.t,{number:t?.service_master?.price})})]}),!!t?.service_master?.type?.length&&(0,r.jsxs)("div",{className:"flex flex-wrap flex-col gap-1 pt-2.5 mt-2.5 border-t border-gray-link",children:[r.jsx("span",{className:"text-sm",children:s("service.place")}),r.jsx("strong",{className:"text-lg font-bold",children:s(t?.service_master?.type)})]})]})]})}},74999:(t,e,s)=>{s.d(e,{Z:()=>a});var r=s(43158),i=s(67023);let a=(0,r.Ue)()((0,i.tJ)(t=>({list:{product:[],master:[],shop:[]},likeOrDislike:(e,s,r=!1)=>t(t=>({list:{...t.list,[e]:t.list[e].some(t=>t.itemId===s)?t.list[e].filter(t=>t.itemId!==s):[...t.list[e],{itemId:s,sent:r}]}})),markEveryItemToSent:e=>t(t=>({list:{...t.list,[e]:t.list[e].map(t=>({...t,sent:!0}))}})),clear:e=>t(t=>({...t,list:{...t.list,[e]:[]}})),setMany:(e,s)=>t(t=>({list:{...t.list,[e]:s}}))}),{name:"like"}))},60112:(t,e,s)=>{s.d(e,{U:()=>u});var r=s(74999),i=s(11494),a=s(14373),l=s(18678),n=s(92232),o=s(3729),c=s(66017);let d=t=>{switch(t){case"shop":return"likedShops";case"product":return"likedProducts";case"master":return"likedMasters";default:return t}},u=(t,e)=>{let s=(0,i.NL)(),u=(0,n.Z)(t=>t.user),{list:h,likeOrDislike:p}=(0,r.Z)(),m=h[t]?.some(t=>t.itemId===e),v=(0,c.Z)(t=>t.country),x=(0,c.Z)(t=>t.city),{mutate:g}=(0,a.D)({mutationFn:t=>l.h.like({...t,region_id:v?.region_id,country_id:v?.id,city_id:x?.id})}),{mutate:f}=(0,a.D)({mutationFn:t=>l.h.dislike(t),onMutate:async e=>{await s.cancelQueries([d(t)],{exact:!1});let r=s.getQueryData([d(t)],{exact:!1});return console.log("prevLikeList => ",r),s.setQueriesData({queryKey:[d(t)],exact:!1},t=>(console.log("old",t),t?.pages)?{...t,pages:t.pages.map(t=>({...t,data:t.data.filter(t=>t.id!==e.type_id)}))}:r),{prevLikeList:r}},onError:(e,r,i)=>{s.setQueryData([t],i?.prevLikeList)},onSettled:()=>{let e=d(t);s.invalidateQueries({queryKey:[e],exact:!1})}});return{handleLikeDisLike:(0,o.useCallback)(()=>{e&&(u&&(m?f({type_id:e,type:t}):g({type_id:e,type:t})),p(t,e,!!u),console.log("fired",e))},[t,e,u?.id]),isLiked:m}}},18678:(t,e,s)=>{s.d(e,{h:()=>a});var r=s(80992),i=s(11204);let a={getAll:t=>(0,r.Z)((0,i.d)("v1/dashboard/likes",t)),getShopAll:t=>(0,r.Z)((0,i.d)("v1/dashboard/likes",t)),getMasterAll:t=>(0,r.Z)((0,i.d)("v1/dashboard/likes",t)),like:t=>r.Z.post("v1/dashboard/likes",{body:t}),dislike:t=>r.Z.delete(`v1/dashboard/likes/${t.type_id}?type=${t.type}`),likeMany:t=>r.Z.post("v1/dashboard/like/store-many",{body:t})}},24424:(t,e,s)=>{s.d(e,{L:()=>a});var r=s(80992),i=s(11204);let a={list:t=>(0,r.Z)((0,i.d)("v1/rest/masters",t)),getById:(t,e)=>(0,r.Z)((0,i.d)(`v1/rest/masters/${t}`,e),{redirectOnError:!0}),getByIds:t=>(0,r.Z)((0,i.d)("v1/rest/masters",t)),getTimes:t=>(0,r.Z)((0,i.d)("v1/rest/master/times-all",t))}},11343:(t,e,s)=>{s.d(e,{v:()=>r});let r=t=>t?.reduce((t,e)=>t.concat(e.data),[])},44224:(t,e,s)=>{s.d(e,{N:()=>o});var r=s(20727),i=s(14616),a=s(73951);class l extends i.z{constructor(t,e){super(t,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t,e){super.setOptions({...t,behavior:(0,a.Gm)()},e)}getOptimisticResult(t){return t.behavior=(0,a.Gm)(),super.getOptimisticResult(t)}fetchNextPage({pageParam:t,...e}={}){return this.fetch({...e,meta:{fetchMore:{direction:"forward",pageParam:t}}})}fetchPreviousPage({pageParam:t,...e}={}){return this.fetch({...e,meta:{fetchMore:{direction:"backward",pageParam:t}}})}createResult(t,e){var s,r,i,l,n,o;let{state:c}=t,d=super.createResult(t,e),{isFetching:u,isRefetching:h}=d,p=u&&(null==(s=c.fetchMeta)?void 0:null==(r=s.fetchMore)?void 0:r.direction)==="forward",m=u&&(null==(i=c.fetchMeta)?void 0:null==(l=i.fetchMore)?void 0:l.direction)==="backward";return{...d,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,a.Qy)(e,null==(n=c.data)?void 0:n.pages),hasPreviousPage:(0,a.ZF)(e,null==(o=c.data)?void 0:o.pages),isFetchingNextPage:p,isFetchingPreviousPage:m,isRefetching:h&&!p&&!m}}}var n=s(41088);function o(t,e,s){let i=(0,r._v)(t,e,s);return(0,n.r)(i,l)}},14373:(t,e,s)=>{s.d(e,{D:()=>h});var r=s(3729),i=s(20727),a=s(62818),l=s(77579),n=s(52936);class o extends n.l{constructor(t,e){super(),this.client=t,this.setOptions(e),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var e;let s=this.options;this.options=this.client.defaultMutationOptions(t),(0,i.VS)(s,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),null==(e=this.currentMutation)||e.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var t;null==(t=this.currentMutation)||t.removeObserver(this)}}onMutationUpdate(t){this.updateResult();let e={listeners:!0};"success"===t.type?e.onSuccess=!0:"error"===t.type&&(e.onError=!0),this.notify(e)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(t,e){return this.mutateOptions=e,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:void 0!==t?t:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){let t=this.currentMutation?this.currentMutation.state:(0,a.R)(),e={...t,isLoading:"loading"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset};this.currentResult=e}notify(t){l.V.batch(()=>{if(this.mutateOptions&&this.hasListeners()){var e,s,r,i,a,l,n,o;t.onSuccess?(null==(e=(s=this.mutateOptions).onSuccess)||e.call(s,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null==(r=(i=this.mutateOptions).onSettled)||r.call(i,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)):t.onError&&(null==(a=(l=this.mutateOptions).onError)||a.call(l,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null==(n=(o=this.mutateOptions).onSettled)||n.call(o,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context))}t.listeners&&this.listeners.forEach(({listener:t})=>{t(this.currentResult)})})}}var c=s(49939),d=s(11494),u=s(67414);function h(t,e,s){let a=(0,i.lV)(t,e,s),n=(0,d.NL)({context:a.context}),[h]=r.useState(()=>new o(n,a));r.useEffect(()=>{h.setOptions(a)},[h,a]);let m=(0,c.$)(r.useCallback(t=>h.subscribe(l.V.batchCalls(t)),[h]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),v=r.useCallback((t,e)=>{h.mutate(t,e).catch(p)},[h]);if(m.error&&(0,u.L)(h.options.useErrorBoundary,[m.error]))throw m.error;return{...m,mutate:v,mutateAsync:m.mutate}}function p(){}}};