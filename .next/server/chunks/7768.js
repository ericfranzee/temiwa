"use strict";exports.id=7768,exports.ids=[7768],exports.modules={67768:(e,t,s)=>{s.r(t),s.d(t,{default:()=>m});var n=s(95344),i=s(3729),l=s(28670),a=s(61993),r=s(11494),o=s(14373),d=s(10947),c=s(42331);let u=({id:e})=>{let t=(0,r.NL)(),{mutate:s,isLoading:l}=(0,o.D)({mutationFn:t=>d.p.createReview("shops",e,{...t,type:"shop"}),onSuccess:()=>{t.invalidateQueries(["reviewList",String(e),"shops"]),t.invalidateQueries(["groupRating","shops",e]),t.setQueryData(["canReview","shop",e],e=>e?{...e,data:{ordered:!0,added_review:!0}}:{data:{ordered:!0,added_review:!0},message:"success",status:!0,timestamp:""})}}),a=(0,i.useCallback)(e=>{s(e)},[]);return n.jsx(c.default,{type:"shop",isProduct:!1,typeId:e,onSubmit:a,isSubmitting:l})},m=({id:e})=>(0,n.jsxs)("div",{className:"grid grid-cols-7 gap-7 mb-4 mt-2",children:[n.jsx("div",{className:"l:col-span-5 lg:col-span-4 col-span-7",children:n.jsx(l.default,{title:"reviews",type:"shops",id:e?.toString()})}),(0,n.jsxs)("div",{className:"lg:col-span-3 col-span-7 mb-8 md:mb-0",children:[n.jsx(a.default,{type:"shops",typeId:e}),n.jsx(u,{id:e})]})]})},28670:(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var n=s(95344),i=s(3729),l=s.n(i),a=s(40219),r=s(10947),o=s(9758),d=s(97273),c=s(66345),u=s(89410),m=s(48869),h=s.n(m),p=s(28678),g=s(89722),v={wrapper:"styles-module_wrapper__1I_qj",content:"styles-module_content__2jwZj",slide:"styles-module_slide__1zrfk",image:"styles-module_image__2hdkJ",close:"styles-module_close__2I1sI",navigation:"styles-module_navigation__1pqAE",prev:"styles-module_prev__KqFRp",next:"styles-module_next__1uQwZ"};!function(e,t){void 0===t&&(t={});var s=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===s&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".styles-module_wrapper__1I_qj {\n  z-index: 1;\n  display: flex;\n  align-items: center;\n  position: fixed;\n  padding: 0px 60px 0px 60px;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background-color: black;\n  box-sizing: border-box;\n}\n\n.styles-module_content__2jwZj {\n  margin: auto;\n  padding: 0;\n  width: 90%;\n  height: 100%;\n  max-height: 100%;\n  text-align: center;\n}\n\n.styles-module_slide__1zrfk {\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.styles-module_image__2hdkJ {\n  max-height: 100%;\n  max-width: 100%;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n}\n\n.styles-module_close__2I1sI {\n  color: white;\n  position: absolute;\n  top: 15px;\n  right: 15px;\n  font-size: 40px;\n  font-weight: bold;\n  opacity: 0.2;\n  cursor: pointer;\n}\n\n.styles-module_close__2I1sI:hover {\n  opacity: 1;\n}\n\n.styles-module_navigation__1pqAE {\n  height: 80%;\n  color: white;\n  cursor: pointer;\n  position: absolute;\n  font-size: 60px;\n  line-height: 60px;\n  font-weight: bold;\n  display: flex;\n  align-items: center;\n  opacity: 0.2;\n  padding: 0 15px;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n}\n\n.styles-module_navigation__1pqAE:hover {\n  opacity: 1;\n}\n\n@media (hover: none) {\n  .styles-module_navigation__1pqAE:hover {\n    opacity: 0.2;\n  }\n}\n\n.styles-module_prev__KqFRp {\n  left: 0;\n}\n\n.styles-module_next__1uQwZ {\n  right: 0;\n}\n\n@media (max-width: 900px) {\n  .styles-module_wrapper__1I_qj {\n    padding: 0;\n  }\n}\n");let x=e=>{var t;let[s,n]=(0,i.useState)(null!==(t=e.currentIndex)&&void 0!==t?t:0),a=(0,i.useCallback)(t=>{let i=(s+t)%e.src.length;i<0&&(i=e.src.length-1),n(i)},[s]),r=(0,i.useCallback)(t=>{var s;if(!t.target||!e.closeOnClickOutside)return;let n="ReactSimpleImageViewer"===t.target.id,i=t.target.classList.contains("react-simple-image-viewer__slide");(n||i)&&(t.stopPropagation(),null===(s=e.onClose)||void 0===s||s.call(e))},[e.onClose]),o=(0,i.useCallback)(t=>{var s;"Escape"===t.key&&(null===(s=e.onClose)||void 0===s||s.call(e)),["ArrowLeft","h"].includes(t.key)&&a(-1),["ArrowRight","l"].includes(t.key)&&a(1)},[e.onClose,a]),d=(0,i.useCallback)(e=>{e.wheelDeltaY>0?a(-1):a(1)},[a]);return(0,i.useEffect)(()=>(document.addEventListener("keydown",o),e.disableScroll||document.addEventListener("wheel",d),()=>{document.removeEventListener("keydown",o),e.disableScroll||document.removeEventListener("wheel",d)}),[o,d]),l().createElement("div",{id:"ReactSimpleImageViewer",className:`${v.wrapper} react-simple-image-viewer__modal`,onKeyDown:o,onClick:r,style:e.backgroundStyle},l().createElement("span",{className:`${v.close} react-simple-image-viewer__close`,onClick:()=>{var t;return null===(t=e.onClose)||void 0===t?void 0:t.call(e)}},e.closeComponent||"\xd7"),e.src.length>1&&l().createElement("span",{className:`${v.navigation} ${v.prev} react-simple-image-viewer__previous`,onClick:()=>a(-1)},e.leftArrowComponent||"❮"),e.src.length>1&&l().createElement("span",{className:`${v.navigation} ${v.next} react-simple-image-viewer__next`,onClick:()=>a(1)},e.rightArrowComponent||"❯"),l().createElement("div",{className:`${v.content} react-simple-image-viewer__modal-content`,onClick:r},l().createElement("div",{className:`${v.slide} react-simple-image-viewer__slide`},l().createElement("img",{className:v.image,src:e.src[s],alt:""}))))};var _=s(88398);let f=({data:e})=>{let[t,s]=(0,i.useState)(0),l=(0,i.useMemo)(()=>e?.galleries?.map(e=>e.preview||e?.path)||[],[e?.galleries]),[a,r,o]=(0,g.d)(),d=e=>{s(e),r()};return(0,n.jsxs)("div",{className:"pt-5 mb-6",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-2.5",children:[e?.user?.img?n.jsx(u.default,{src:e.user?.img||"",alt:e.user?.firstname||"user",width:50,height:50,className:"w-[50px] h-[50px] rounded-button object-cover"}):n.jsx(_.V,{name:e?.user?.firstname,size:44}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("span",{className:"text-base font-medium",children:[e?.user?.firstname," ",e?.user?.lastname]}),(0,n.jsxs)("div",{className:"flex items-center gap-2.5",children:[n.jsx("span",{className:"text-xs font-medium text-gray-field",children:h()(e.created_at).format("DD.MM.YYYY")}),n.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-300"}),(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-yellow",children:n.jsx(p.Z,{size:16})}),n.jsx("span",{className:"text-xs font-medium",children:e?.rating})]})]})]})]}),n.jsx("span",{className:"text-base leading-7",children:e?.comment}),n.jsx("div",{className:"flex items-center gap-3 mb-2.5",children:e?.galleries?.map((e,t)=>n.jsx("button",{type:"button",onClick:()=>d(t),children:n.jsx(u.default,{src:e.path,alt:e.title||"review.img",width:70,height:70,className:"aspect-square object-contain"},e.id)}))}),a&&!!l?.length&&n.jsx(x,{src:l,onClose:o,disableScroll:!1,currentIndex:t,closeOnClickOutside:!0,backgroundStyle:{backgroundColor:"rgba(0, 0, 0, 0.9)"}})]})},b=(0,d.default)(()=>Promise.all([s.e(206),s.e(3306),s.e(1307)]).then(s.bind(s,1307)).then(e=>({default:e.EmptyList})),{loadableGenerated:{modules:["/home/user/temiwa/app/(store)/(booking)/components/reviews/review-list.tsx -> ./empty-list"]}}),y=({id:e,type:t,title:s})=>{let{t:i}=(0,o.$G)(),{currency:l}=(0,c.r)(),{data:d,isLoading:u}=(0,a.a)(["reviewList",e,t],()=>r.p.getAllReviews(t,e,{column:"user",currency_id:l?.id}),{enabled:!!e});return d?.data&&0===d.data.length?n.jsx(b,{title:s}):u?(0,n.jsxs)("div",{className:"animate-pulse",children:[!!s&&n.jsx("div",{className:"text-lg font-semibold",children:i(s)}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center gap-2.5 mt-4",children:[n.jsx("div",{className:"w-11 h-11 rounded-full bg-gray-300"}),(0,n.jsxs)("div",{children:[n.jsx("div",{className:"h-4 rounded-full w-60 bg-gray-300"}),n.jsx("div",{className:"h-3 mt-2 rounded-full w-40 bg-gray-300"})]})]}),n.jsx("div",{className:"h-3 rounded-full bg-gray-300 w-full mt-3"}),n.jsx("div",{className:"h-3 rounded-full bg-gray-300 w-3/5 mt-2"})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center gap-2.5 mt-4",children:[n.jsx("div",{className:"w-11 h-11 rounded-full bg-gray-300"}),(0,n.jsxs)("div",{children:[n.jsx("div",{className:"h-4 rounded-full w-60 bg-gray-300"}),n.jsx("div",{className:"h-3 mt-2 rounded-full w-40 bg-gray-300"})]})]}),n.jsx("div",{className:"h-3 rounded-full bg-gray-300 w-full mt-3"}),n.jsx("div",{className:"h-3 rounded-full bg-gray-300 w-3/5 mt-2"})]})]}):(0,n.jsxs)("div",{children:[!!s&&(0,n.jsxs)("div",{className:"text-lg font-semibold ",children:[i(s)," ",d?.data.length||0]}),n.jsx("div",{className:"flex flex-col gap-1",children:d?.data.map(e=>n.jsx(f,{data:e},e.id))})]})}},28678:(e,t,s)=>{s.d(t,{Z:()=>i});var n=s(95344);s(3729);let i=({size:e,...t})=>n.jsx("svg",{width:e||"18",height:e||"18",...t,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M10.2977 2.63297L11.6177 5.27297C11.7977 5.64047 12.2777 5.99297 12.6827 6.06047L15.0752 6.45797C16.6052 6.71297 16.9652 7.82297 15.8627 8.91797L14.0027 10.778C13.6877 11.093 13.5152 11.7005 13.6127 12.1355L14.1452 14.438C14.5652 16.2605 13.5977 16.9655 11.9852 16.013L9.74268 14.6855C9.33768 14.4455 8.67018 14.4455 8.25768 14.6855L6.01518 16.013C4.41018 16.9655 3.43518 16.253 3.85518 14.438L4.38768 12.1355C4.48518 11.7005 4.31268 11.093 3.99768 10.778L2.13768 8.91797C1.04268 7.82297 1.39518 6.71297 2.92518 6.45797L5.31768 6.06047C5.71518 5.99297 6.19518 5.64047 6.37518 5.27297L7.69518 2.63297C8.41518 1.20047 9.58518 1.20047 10.2977 2.63297Z",fill:"#F19204"})})},14373:(e,t,s)=>{s.d(t,{D:()=>m});var n=s(3729),i=s(20727),l=s(62818),a=s(77579),r=s(52936);class o extends r.l{constructor(e,t){super(),this.client=e,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;let s=this.options;this.options=this.client.defaultMutationOptions(e),(0,i.VS)(s,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),null==(t=this.currentMutation)||t.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;null==(e=this.currentMutation)||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();let t={listeners:!0};"success"===e.type?t.onSuccess=!0:"error"===e.type&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:void 0!==e?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){let e=this.currentMutation?this.currentMutation.state:(0,l.R)(),t={...e,isLoading:"loading"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset};this.currentResult=t}notify(e){a.V.batch(()=>{if(this.mutateOptions&&this.hasListeners()){var t,s,n,i,l,a,r,o;e.onSuccess?(null==(t=(s=this.mutateOptions).onSuccess)||t.call(s,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null==(n=(i=this.mutateOptions).onSettled)||n.call(i,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)):e.onError&&(null==(l=(a=this.mutateOptions).onError)||l.call(a,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null==(r=(o=this.mutateOptions).onSettled)||r.call(o,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context))}e.listeners&&this.listeners.forEach(({listener:e})=>{e(this.currentResult)})})}}var d=s(49939),c=s(11494),u=s(67414);function m(e,t,s){let l=(0,i.lV)(e,t,s),r=(0,c.NL)({context:l.context}),[m]=n.useState(()=>new o(r,l));n.useEffect(()=>{m.setOptions(l)},[m,l]);let p=(0,d.$)(n.useCallback(e=>m.subscribe(a.V.batchCalls(e)),[m]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),g=n.useCallback((e,t)=>{m.mutate(e,t).catch(h)},[m]);if(p.error&&(0,u.L)(m.options.useErrorBoundary,[p.error]))throw p.error;return{...p,mutate:g,mutateAsync:p.mutate}}function h(){}}};