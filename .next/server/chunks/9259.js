"use strict";exports.id=9259,exports.ids=[9259],exports.modules={56295:(e,s,a)=>{a.d(s,{x:()=>d});var l=a(95344),t=a(9758),r=a(21335);let d=({totals:e,showTotalTax:s,couponStyle:a=!0})=>{let{t:d}=(0,t.$G)();return(0,l.jsxs)("div",{className:a?"coupon":"",children:[!!e?.price&&(0,l.jsxs)("div",{className:"flex items-center justify-between py-4 border-b border-gray-border",children:[l.jsx("span",{className:"text-sm",children:d("products")}),l.jsx("span",{className:"text-sm",children:l.jsx(r.t,{number:e?.price})})]}),!!e?.total_discount&&(0,l.jsxs)("div",{className:"flex items-center justify-between py-4 border-b border-gray-border",children:[l.jsx("span",{className:"text-sm",children:d("discount")}),(0,l.jsxs)("span",{className:"text-sm",children:["-",l.jsx(r.t,{number:e?.total_discount})]})]}),!!e?.delivery_fee&&("object"==typeof e.delivery_fee?e?.delivery_fee?.length!==0:!!e.delivery_fee)&&(0,l.jsxs)("div",{className:"flex items-center justify-between py-4 border-b border-gray-border",children:[l.jsx("span",{className:"text-sm",children:d("delivery.fee")}),l.jsx("span",{className:"text-sm",children:l.jsx(r.t,{number:"object"==typeof e.delivery_fee?e?.delivery_fee?.reduce((e,s)=>e+s.price,0):e.delivery_fee})})]}),!!e?.total_shop_tax&&(0,l.jsxs)("div",{className:"flex items-center justify-between py-4 border-b border-gray-border",children:[l.jsx("span",{className:"text-sm",children:d("total.tax")}),l.jsx("span",{className:"text-sm",children:l.jsx(r.t,{number:e?.total_shop_tax})})]}),!!e?.total_tax&&s&&(0,l.jsxs)("div",{className:"flex items-center justify-between py-4 border-b border-gray-border",children:[l.jsx("span",{className:"text-sm",children:d("total.tax")}),l.jsx("span",{className:"text-sm",children:l.jsx(r.t,{number:e?.total_tax})})]}),!!e?.service_fee&&(0,l.jsxs)("div",{className:"flex items-center justify-between py-4 border-b border-gray-border",children:[l.jsx("span",{className:"text-sm",children:d("service.fee")}),l.jsx("span",{className:"text-sm",children:l.jsx(r.t,{number:e?.service_fee})})]}),!!e?.tips&&(0,l.jsxs)("div",{className:"flex items-center justify-between py-4 border-b border-gray-border",children:[l.jsx("span",{className:"text-sm",children:d("tips")}),l.jsx("span",{className:"text-sm",children:l.jsx(r.t,{number:e?.tips})})]}),e?.coupon&&(0,l.jsxs)("div",{className:"flex items-center justify-between py-4 ",children:[l.jsx("span",{className:"text-sm",children:d("coupon")}),(0,l.jsxs)("span",{className:"text-sm",children:["-",l.jsx(r.t,{number:e?.coupon?.reduce((e,s)=>e+s.price,0)})]})]}),!!e?.total_coupon_price&&(0,l.jsxs)("div",{className:"flex items-center justify-between py-4 ",children:[l.jsx("span",{className:"text-sm",children:d("coupon")}),(0,l.jsxs)("span",{className:"text-sm",children:["-",l.jsx(r.t,{number:e?.total_coupon_price})]})]}),l.jsx("div",{className:"h-px bg-dark dark:bg-gray-200"}),l.jsx("div",{className:"h-px bg-dark mt-2.5 dark:bg-gray-200"}),(0,l.jsxs)("div",{className:"flex items-center justify-between mt-7",children:[l.jsx("strong",{className:"text-[22px] font-bold",children:d("total")}),l.jsx("strong",{className:"text-[22px] font-bold",children:l.jsx(r.t,{number:e?.total_price??0})})]})]})}},75493:(e,s,a)=>{a.d(s,{l:()=>t});var l=a(95344);a(3729);let t=()=>(0,l.jsxs)("div",{className:"p-5",children:[l.jsx("div",{className:"h-5 rounded-full bg-gray-300 w-40"}),l.jsx("div",{className:"flex items-center justify-between px-5 py-[18px] bg-white bg-opacity-30 rounded-2xl mt-7 mb-2.5",children:l.jsx("div",{className:"bg-gray-300 w-4/5 rounded-full h-4"})}),(0,l.jsxs)("div",{className:"px-4 pt-[22px] pb-4 bg-white bg-opacity-30 rounded-2xl",children:[l.jsx("div",{className:"bg-gray-300 rounded-full w-60"}),(0,l.jsxs)("div",{className:"bg-white rounded-2xl p-2.5 flex items-center gap-3",children:[l.jsx("div",{className:"flex items-center justify-center rounded-full bg-gray-300 aspect-square h-12 w-12"}),(0,l.jsxs)("div",{className:"flex flex-col flex-1 gap-2",children:[l.jsx("div",{className:"h-3 rounded-full w-3/5 bg-gray-300"}),l.jsx("div",{className:"flex items-center justify-between gap-2",children:Array.from([,,,,].keys()).map(e=>l.jsx("div",{className:"bg-gray-progress flex-1 rounded-full h-3"},e))})]})]})]}),l.jsx("div",{className:"h-4 rounded-full w-12 bg-gray-300 mt-10"}),(0,l.jsxs)("div",{className:"my-5 flex flex-col gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2.5",children:[l.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gray-300"}),(0,l.jsxs)("div",{className:"flex flex-col gap-2 flex-1",children:[l.jsx("div",{className:"w-4/5 h-4 bg-gray-300 rounded-full"}),l.jsx("div",{className:"w-2/5 h-3 bg-gray-300 rounded-full"})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2.5",children:[l.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gray-300"}),(0,l.jsxs)("div",{className:"flex flex-col gap-2 flex-1",children:[l.jsx("div",{className:"w-4/5 h-4 bg-gray-300 rounded-full"}),l.jsx("div",{className:"w-2/5 h-3 bg-gray-300 rounded-full"})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2.5",children:[l.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gray-300"}),(0,l.jsxs)("div",{className:"flex flex-col gap-2 flex-1",children:[l.jsx("div",{className:"w-4/5 h-4 bg-gray-300 rounded-full"}),l.jsx("div",{className:"w-2/5 h-3 bg-gray-300 rounded-full"})]})]})]})]})},18874:(e,s,a)=>{a.d(s,{Z:()=>L});var l=a(95344),t=a(11494),r=a(40219),d=a(14373),c=a(9758),i=a(21335),n=a(48869),x=a.n(n),o=a(42473);a(3729);var m=a(56295),p=a(19512),u=a(88324),h=a.n(u),f=a(5849),j=a.n(f),b=a(20661),v=a.n(b),g=a(7016),y=a.n(g),N=a(4340),w=a(63870),_=a.n(w),k=a(56067),z=a(97273),C=a(1475),Z=a(89722),H=a(1781),O=a(4058),$=a(89410),Y=a(56086),M=a(97514),S=a.n(M),q=a(61875),D=a.n(q),P=a(64191),V=a(34128);let A=(0,z.default)(()=>Promise.all([a.e(1218),a.e(567)]).then(a.bind(a,10567)).then(e=>({default:e.ParcelMap})),{loadableGenerated:{modules:["/home/user/temiwa/components/parcel-detail/parcel-detail.tsx -> @/components/parcel-map"]}}),F={new:{step:1,icon:l.jsx(j(),{})},accepted:{step:1,icon:l.jsx(j(),{})},ready:{step:2,icon:l.jsx(h(),{})},on_a_way:{step:3,icon:l.jsx(v(),{})},delivered:{step:4,icon:l.jsx(y(),{})},canceled:{step:0,icon:l.jsx(N.Z,{})}},L=({id:e})=>{let{t:s}=(0,c.$G)(),a=(0,t.NL)(),{hourFormat:n}=(0,P.L)(),{data:u,refetch:h}=(0,r.a)(["parcel",e],()=>p.S.get(e),{suspense:!0,enabled:!!e,refetchOnWindowFocus:!0,refetchInterval:5e3}),f=u?.data,[j,b,v]=(0,Z.d)(),[g,y,N]=(0,Z.d)(),{mutate:w,isLoading:z}=(0,d.D)({mutationFn:()=>p.S.cancel(u?.data.id),onError:e=>(0,C.vU)(e.message),onSuccess:()=>{h(),N(),a.invalidateQueries(["activeParcels"]),a.invalidateQueries(["parcelHistory"])}});return(0,l.jsxs)("div",{className:"p-5",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,l.jsxs)("div",{className:"text-xl font-bold",children:["#",f?.id]}),l.jsx("div",{className:"bg-primary rounded-full flex items-center",children:l.jsx("span",{className:"text-white text-xs px-2 py-0.5",children:s(f?.status||"")})})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between px-5 py-[18px] bg-white bg-opacity-30 rounded-2xl mt-7 mb-2.5",children:[l.jsx("div",{className:"text-sm font-semibold",children:l.jsx(i.t,{customCurrency:f?.currency,number:f?.total_price})}),l.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-field"}),l.jsx("span",{className:"text-sm font-medium",children:f?.type?.type}),l.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-field"}),l.jsx("span",{className:"text-sm font-medium",children:x()(f?.delivery_date).format(`YYYY-MM-DD ${n}`)})]}),(0,l.jsxs)("div",{className:"px-4 pt-[22px] pb-4 bg-white bg-opacity-30 rounded-2xl",children:[l.jsx("span",{className:"text-base font-semibold",children:s("process")}),(0,l.jsxs)("div",{className:"bg-white dark:bg-dark rounded-2xl p-2.5 flex items-center gap-3",children:[l.jsx("div",{className:(0,o.Z)("flex items-center justify-center rounded-full drop-shadow-green  h-full aspect-square p-3 text-white",f?.status==="canceled"?"bg-red":"bg-green"),children:f&&F[f.status].icon}),(0,l.jsxs)("div",{className:"flex flex-col flex-1 gap-2",children:[(0,l.jsxs)("strong",{className:"text-xs font-bold",children:[s(f?.status||"")," -"," ",x()(f?.delivery_date).format(`MMM DD, YYYY - ${n}`)]}),l.jsx("div",{className:"flex items-center justify-between gap-2",children:Array.from([,,,,].keys()).map(e=>l.jsx("div",{className:(0,o.Z)(f&&"canceled"!==f.status&&F[f.status].step>=e+1?"bg-green":"bg-gray-progress",f?.status==="canceled"&&"bg-red","flex-1 rounded-full h-3")},e))})]})]})]}),f?.deliveryman&&(0,l.jsxs)("div",{className:"p-2.5 bg-white bg-opacity-30 rounded-2xl mt-4 flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2.5",children:[f?.deliveryman.img?l.jsx($.default,{width:50,height:50,className:"rounded-full aspect-square",src:f?.deliveryman.img,alt:f?.deliveryman?.firstname||""}):l.jsx(V.V,{size:50,name:f?.deliveryman?.firstname}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"text-lg font-semibold",children:[f?.deliveryman.firstname," ",f?.deliveryman.lastname]}),l.jsx("span",{className:"text-gray-field",children:s("driver")})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[l.jsx("a",{href:`tel:${f?.deliveryman.phone}`,children:l.jsx(Y.h,{color:"black",size:"large",rounded:!0,children:l.jsx(S(),{})})}),l.jsx("a",{href:`sms:${f?.deliveryman.phone}`,children:l.jsx(Y.h,{color:"primary",size:"large",rounded:!0,children:l.jsx(D(),{})})})]})]}),(0,l.jsxs)("button",{onClick:b,className:"px-2.5 py-4  bg-white bg-opacity-30 rounded-2xl flex items-center gap-2.5 my-4 w-full",children:[l.jsx("div",{className:"w-10 h-10 aspect-square text-white rounded-full bg-dark flex items-center justify-center",children:l.jsx(_(),{})}),(0,l.jsxs)("div",{className:"text-start",children:[l.jsx("div",{className:"text-sm font-semibold",children:s("delivery.location")}),l.jsx("span",{className:"text-xs line-clamp-1",children:f?.address_to?.address})]})]}),l.jsx("span",{className:"text-sm italic mt-2.5",children:f?.note}),l.jsx(m.x,{couponStyle:!1,totals:{total_price:f?.total_price}}),f?.status==="new"&&l.jsx(H.z,{className:"mt-2",color:"black",loading:z,onClick:y,fullWidth:!0,children:s("cancel")}),l.jsx(O.s,{text:"are.you.sure.want.to.cancel",onCancel:N,onConfirm:()=>{w()},isOpen:g,loading:z}),f&&l.jsx(k.u,{withCloseButton:!0,isOpen:j,onClose:v,children:(0,l.jsxs)("div",{className:"p-5",children:[l.jsx("div",{className:"text-xl font-semibold mb-4",children:s("delivery.location")}),l.jsx("div",{className:"w-full",style:{height:"400px"},children:l.jsx(A,{locationFrom:{lat:Number(f.address_from?.latitude),lng:Number(f.address_from?.longitude)},locationTo:{lat:Number(f.address_to?.latitude),lng:Number(f.address_to?.longitude)}})})]})})]})}},34128:(e,s,a)=>{a.d(s,{V:()=>t});var l=a(95344);let t=({name:e,size:s})=>l.jsx("div",{className:"rounded-full aspect-square bg-primary flex items-center justify-center",style:{width:s,height:s},children:l.jsx("span",{className:"text-white text-sm",style:{fontSize:`${s/3}px`},children:e?.charAt(0)})})},64191:(e,s,a)=>{a.d(s,{L:()=>t});var l=a(66345);let t=()=>{let{settings:e}=(0,l.r)();return{hourFormat:e?.hour_format||"HH:mm"}}},5849:(e,s,a)=>{var l=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(a(3729)),t=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},r=function(e,s){var a={};for(var l in e)!(s.indexOf(l)>=0)&&Object.prototype.hasOwnProperty.call(e,l)&&(a[l]=e[l]);return a},d=function(e){var s=e.color,a=e.size,d=void 0===a?24:a,c=(e.children,r(e,["color","size","children"])),i="remixicon-icon "+(c.className||"");return l.default.createElement("svg",t({},c,{className:i,width:d,height:d,fill:void 0===s?"currentColor":s,viewBox:"0 0 24 24"}),l.default.createElement("path",{d:"M6 4v4h12V4h2.007c.548 0 .993.445.993.993v16.014c0 .548-.445.993-.993.993H3.993C3.445 22 3 21.555 3 21.007V4.993C3 4.445 3.445 4 3.993 4H6zm3 13H7v2h2v-2zm0-3H7v2h2v-2zm0-3H7v2h2v-2zm7-9v4H8V2h8z"}))},c=l.default.memo?l.default.memo(d):d;e.exports=c},19512:(e,s,a)=>{a.d(s,{S:()=>r});var l=a(80992),t=a(11204);let r={getTypes:e=>(0,l.Z)((0,t.d)("v1/rest/parcel-order/types",e)),calculate:e=>(0,l.Z)((0,t.d)("v1/rest/parcel-order/calculate-price",e)),create:e=>l.Z.post("v1/dashboard/user/parcel-orders",{body:e}),getAll:e=>(0,l.Z)((0,t.d)("v1/dashboard/user/parcel-orders",e)),get:(e,s)=>(0,l.Z)((0,t.d)(`v1/dashboard/user/parcel-orders/${e}`,s)),cancel:e=>l.Z.post(`v1/dashboard/user/parcel-orders/${e}/status/change?status=canceled`)}}};