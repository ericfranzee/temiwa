"use strict";exports.id=7830,exports.ids=[7830],exports.modules={7830:(e,t,s)=>{s.r(t),s.d(t,{default:()=>R});var l=s(95344),r=s(1781),a=s(91451),i=s(3729),n=s(84502),d=s(60708),o=s(96040),c=s(9758),u=s(11494),p=s(14373),h=s(20157),x=s(1475),f=s(1356),g=s(32438),m=s(2209),b=s(92232),w=s(8428),y=s(55701);let j=()=>(0,l.jsxs)("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("g",{clipPath:"url(#clip0_1_149)",children:l.jsx("path",{d:"M11.6236 7.2221C10.7476 7.2221 9.39157 6.2261 7.96357 6.2621C6.07957 6.2861 4.35157 7.3541 3.37957 9.0461C1.42357 12.4421 2.87557 17.4581 4.78357 20.2181C5.71957 21.5621 6.82357 23.0741 8.28757 23.0261C9.69157 22.9661 10.2196 22.1141 11.9236 22.1141C13.6156 22.1141 14.0956 23.0261 15.5836 22.9901C17.0956 22.9661 18.0556 21.6221 18.9796 20.2661C20.0476 18.7061 20.4916 17.1941 20.5156 17.1101C20.4796 17.0981 17.5756 15.9821 17.5396 12.6221C17.5156 9.8141 19.8316 8.4701 19.9396 8.4101C18.6196 6.4781 16.5916 6.2621 15.8836 6.2141C14.0356 6.0701 12.4876 7.2221 11.6236 7.2221ZM14.7436 4.3901C15.5236 3.4541 16.0396 2.1461 15.8956 0.850098C14.7796 0.898098 13.4356 1.5941 12.6316 2.5301C11.9116 3.3581 11.2876 4.6901 11.4556 5.9621C12.6916 6.0581 13.9636 5.3261 14.7436 4.3901Z",fill:"black"})}),l.jsx("defs",{children:l.jsx("clipPath",{id:"clip0_1_149",children:l.jsx("rect",{width:"24",height:"24",fill:"white"})})})]}),v=()=>(0,l.jsxs)("svg",{width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("rect",{width:"26",height:"26",rx:"13",fill:"#1877F2"}),l.jsx("path",{d:"M18.0604 16.7578L18.6367 13H15.0312V10.5625C15.0312 9.53418 15.534 8.53125 17.1488 8.53125H18.7891V5.33203C18.7891 5.33203 17.3012 5.07812 15.8793 5.07812C12.9086 5.07812 10.9688 6.87832 10.9688 10.1359V13H7.66797V16.7578H10.9688V25.8426C11.6314 25.9467 12.3094 26 13 26C13.6906 26 14.3686 25.9467 15.0312 25.8426V16.7578H18.0604Z",fill:"white"})]}),C=()=>(0,l.jsxs)("svg",{width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsxs)("g",{clipPath:"url(#clip0_2225_5764)",children:[l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.48 13.2958C25.48 12.374 25.3973 11.4876 25.2436 10.6367H13V15.6654H19.9964C19.695 17.2904 18.7791 18.6672 17.4023 19.589V22.8508H21.6036C24.0618 20.5876 25.48 17.2549 25.48 13.2958Z",fill:"#4285F4"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.0001 25.9997C16.5101 25.9997 19.4528 24.8356 21.6037 22.8502L17.4024 19.5884C16.2383 20.3684 14.7492 20.8293 13.0001 20.8293C9.61418 20.8293 6.74827 18.5425 5.72599 15.4697H1.38281V18.8379C3.5219 23.0865 7.91827 25.9997 13.0001 25.9997Z",fill:"#34A853"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.72591 15.4703C5.46591 14.6903 5.31818 13.8571 5.31818 13.0003C5.31818 12.1435 5.46591 11.3103 5.72591 10.5303V7.16211H1.38273C0.502273 8.91711 0 10.9026 0 13.0003C0 15.098 0.502273 17.0835 1.38273 18.8385L5.72591 15.4703Z",fill:"#FBBC05"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.0001 5.17045C14.9087 5.17045 16.6224 5.82636 17.9696 7.11455L21.6983 3.38591C19.4469 1.28818 16.5042 0 13.0001 0C7.91827 0 3.5219 2.91318 1.38281 7.16182L5.72599 10.53C6.74827 7.45727 9.61418 5.17045 13.0001 5.17045Z",fill:"#EA4335"})]}),l.jsx("defs",{children:l.jsx("clipPath",{id:"clip0_2225_5764",children:l.jsx("rect",{width:"26",height:"26",fill:"white"})})})]});var k=s(3615);let N=({redirectOnSuccess:e})=>{let[t,s]=(0,i.useState)(!1),{googleSignIn:r,facebookSignIn:a,appleSignIn:n}=(0,k.a)(),{handleSync:d}=(0,y.t)(),{mutate:o}=(0,p.D)({mutationKey:["socialLogin"],mutationFn:e=>h.O.socialLogin(e)}),u=(0,w.useRouter)(),N=(0,w.useSearchParams)(),{signIn:Z}=(0,b.Z)(),{t:R}=(0,c.$G)(),{fcmToken:S}=(0,m.n)(),_={google:r,facebook:a,apple:n},L=t=>{(0,f.d8)("token",`${t.data.token_type} ${t.data.access_token}`),S&&g.W.updateFirebaseToken({firebase_token:S}),Z(t.data.user),s(!1),d(),e&&(N.has("redirect")?u.replace(N.get("redirect")):u.replace("/"))},F=()=>{s(!1)},H=async e=>{s(!0);try{await _[e]().then(async t=>{let s=await t.user.getIdToken();o({type:e,data:{avatar:t.user?.photoURL,email:t.user.email,id:s,name:t.user.displayName}},{onSuccess:e=>L(e),onError:F})})}catch(t){(0,x.vU)(R(`Could not login with ${e} account`)),s(!1)}};return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center gap-4 pt-8 justify-center pb-7",children:[l.jsx("button",{type:"button",className:"border border-gray-link flex items-center justify-center flex-1 py-3 rounded-button disabled:bg-gray-bg hover:bg-gray-bg",onClick:()=>H("google"),disabled:t,children:l.jsx(C,{})}),l.jsx("button",{type:"button",className:"border border-gray-link flex items-center justify-center flex-1 py-3 rounded-button disabled:bg-gray-bg hover:bg-gray-bg",onClick:()=>H("facebook"),disabled:t,children:l.jsx(v,{})}),l.jsx("button",{type:"button",className:"border border-gray-link flex items-center justify-center flex-1 py-3 rounded-button disabled:bg-gray-bg hover:bg-gray-bg",onClick:()=>H("apple"),disabled:t,children:l.jsx(j,{})})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2.5",children:[l.jsx("div",{className:"h-px bg-gray-link flex-1"}),l.jsx("span",{className:"uppercase text-gray-field font-medium text-sm",children:R("or")}),l.jsx("div",{className:"h-px bg-gray-link flex-1"})]})]})},Z=n.object({username:n.string().required(),password:n.string().required()}),R=({onViewChange:e,redirectOnSuccess:t})=>{let{t:s}=(0,c.$G)(),i=(0,u.NL)(),{handleSync:n}=(0,y.t)(),{mutate:j,isLoading:v}=(0,p.D)({mutationFn:e=>h.O.login(e),onError:e=>{(0,x.vU)(e.message)}}),{fcmToken:C}=(0,m.n)(),k=(0,b.Z)(e=>e.signIn),R=(0,w.useRouter)(),S=(0,w.useSearchParams)(),{register:_,formState:{errors:L},handleSubmit:F}=(0,d.cI)({resolver:(0,o.X)(Z)});return(0,l.jsxs)("div",{className:"flex flex-col gap-6 ",children:[l.jsx("h1",{className:"font-semibold text-[30px] mb-2 text-start",children:s("login")}),l.jsx(N,{redirectOnSuccess:t}),(0,l.jsxs)("form",{onSubmit:F(e=>{let s={password:e.password};e.username.includes("@")?s.email=e.username:s.phone=e.username.replace(/[^0-9]/g,""),j(s,{onSuccess:e=>{(0,x.Vp)("successfully.logged.in"),(0,f.d8)("token",`${e.data.token_type} ${e.data.access_token}`),C&&g.W.updateFirebaseToken({firebase_token:C}),k(e.data.user),n(),t&&(S.has("redirect")?R.replace(S.get("redirect")):R.replace("/"))}})}),children:[(0,l.jsxs)("div",{className:"flex flex-col gap-3 mb-3 w-full",children:[l.jsx(a.I,{..._("username"),error:L.username?.message,fullWidth:!0,label:s("email.or.phone")}),l.jsx(a.I,{..._("password"),error:L.password?.message,fullWidth:!0,label:s("password"),type:"password"})]}),l.jsx("div",{className:"flex items-center justify-end mb-10",children:l.jsx("button",{type:"button",onClick:()=>e("FORGOT_PASSWORD"),className:"font-medium text-end",children:s("forgot.password")})}),l.jsx(r.z,{type:"submit",loading:v,disabled:!!i.isMutating(),fullWidth:!0,children:s("sign.in")})]})]})}},91451:(e,t,s)=>{s.d(t,{I:()=>d});var l=s(95344),r=s(42473),a=s(3729),i=s(9758),n=s(56086);let d=(0,a.forwardRef)(({fullWidth:e,label:t,type:s,className:d,error:o,rightIcon:c,status:u="default",autoComplete:p,placeholder:h,leftIcon:x,containerClassName:f,required:g,disabled:m,id:b,...w},y)=>{let[j,v]=(0,a.useState)(s||"text"),{t:C}=(0,i.$G)(),k=(0,a.useId)();return(0,l.jsxs)("div",{className:(0,r.Z)("relative flex flex-col items-start",e&&"w-full",f),children:[(0,l.jsxs)("div",{className:(0,r.Z)("relative",e&&"w-full"),children:[l.jsx("input",{ref:y,id:k,type:j,autoComplete:"off",placeholder:" ",disabled:m,...w,className:(0,r.Z)("block px-4 w-full text-sm  bg-transparent rounded-button border appearance-none focus:outline-none focus:ring-0  peer ",e&&"w-full",!!c&&"pr-8",!!x&&"pl-10",t?"pt-4 pb-[12px]":"py-[19px]","default"===u&&"border-gray-link focus-visible:border-primary","error"===u&&"border-badge-product focus-visible:border-red-700","success"===u&&"border-green-500 focus-visible:border-red-700",m&&"text-gray-field",d)}),"password"===s&&l.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 z-10",children:l.jsx(n.h,{rounded:!0,type:"button",onClick:()=>{"password"===j?v("text"):v("password")},children:"password"===j?l.jsx("i",{className:"ri-eye-line"}):l.jsx("i",{className:"ri-eye-close-line"})})}),!!x&&l.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pr-3 z-[4]",children:x}),!!c&&l.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-1.5 z-[4]",children:c}),(0,l.jsxs)("label",{htmlFor:k,className:(0,r.Z)("absolute text-sm text-gray-placeholder duration-300 transform -translate-y-3 scale-75 top-3.5 origin-[0] peer-focus:text-black dark:peer-focus:text-white peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-3.5",x?"left-10 rtl:right-10 rtl:left-auto":"left-4 rtl:right-0 rtl:left-auto",m&&"text-gray-field"),children:[t,g&&"*"]})]}),o&&l.jsx("p",{role:"alert",className:"text-red text-sm mt-1",children:C(o)})]})})},7605:(e,t,s)=>{s.d(t,{Z:()=>a});var l=s(43158),r=s(67023);let a=(0,l.Ue)()((0,r.tJ)(e=>({ids:[],addOrRemove:t=>e(e=>({ids:e.ids.includes(t)?e.ids.filter(e=>e!==t):[...e.ids,t]})),clear:()=>e(e=>({...e,ids:[]}))}),{name:"compare"}))},3615:(e,t,s)=>{s.d(t,{a:()=>b});var l=s(3729),r=s(87521),a=s(1356),i=s(92232),n=s(11494),d=s(14373),o=s(43158),c=s(67023);let u=(0,o.Ue)()((0,c.tJ)(e=>({list:[],addToList:t=>e(e=>({list:e.list.includes(t)?e.list:[...e.list,t]})),deleteFromList:t=>e(e=>({list:e.list.filter(e=>e!==t)})),clear:()=>e(e=>({...e,list:[]}))}),{name:"searchHistory"}));var p=s(74999),h=s(86741),x=s(7605),f=s(2209),g=s(20157),m=s(8428);let b=()=>{let e=(0,m.useRouter)(),t=(0,n.NL)(),[o,c]=(0,l.useState)(!1),{signOut:b}=(0,i.Z)(),w=u(e=>e.clear),y=(0,p.Z)(e=>e.clear),j=(0,h.Z)(e=>e.clear),v=(0,x.Z)(e=>e.clear),{fcmToken:C}=(0,f.n)(),{mutate:k}=(0,d.D)({mutationFn:e=>g.O.logout(e),mutationKey:["logout"]}),N=async()=>{let{signOut:e,getAuth:l}=await s.e(5432).then(s.bind(s,75432)),i=l(r.Z);await e(i),c(!1),(0,a.kT)("token"),b(),t.clear(),w(),y("product"),j(),v()},Z=async()=>{if(e.replace("/"),C){k({token:C},{onSuccess:async()=>{e.replace("/"),await N()}});return}await N()},R=async()=>{let{signInWithPopup:e,GoogleAuthProvider:t,getAuth:l}=await s.e(5432).then(s.bind(s,75432));return e(l(r.Z),new t)},S=async()=>{let{signInWithPopup:e,OAuthProvider:t,getAuth:l}=await s.e(5432).then(s.bind(s,75432)),a=l(r.Z),i=new t("apple.com");return i.addScope("email"),i.addScope("name"),e(a,i)},_=async()=>{let{FacebookAuthProvider:e,signInWithPopup:t,getAuth:l}=await s.e(5432).then(s.bind(s,75432));return t(l(r.Z),new e)},L=async e=>{let{getAuth:t,signInWithPhoneNumber:l,RecaptchaVerifier:a}=await s.e(5432).then(s.bind(s,75432)),i=t(r.Z),n=new a(i,"sign-in-button",{size:"invisible",callback:()=>{console.log("Callback!")}});return l(i,e,n)};return(0,l.useEffect)(()=>{c((0,a.h2)("token"))},[]),{logOut:Z,googleSignIn:R,appleSignIn:S,facebookSignIn:_,phoneNumberSignIn:L,isSignedIn:o}}}};