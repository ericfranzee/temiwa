"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[648],{41556:function(e,t,i){i.r(t),i.d(t,{BookingBackButton:function(){return n}});var r=i(3827),s=i(86926),a=i(97864),l=i(46748),d=i(64090);let n=e=>{let{deletePayment:t,resetAll:i,deleteStaff:n,deleteAddress:o,deleteDate:c,deleteNotes:u}=e,{dispatch:v}=(0,s.v)(),m=(0,d.useCallback)(()=>{if(t){v({type:a.Y.DeletePayment}),v({type:a.Y.DeleteGiftCart});return}if(i){v({type:a.Y.ResetBooking});return}if(c){v({type:a.Y.ClearDateTime,payload:{}});return}if(n){v({type:a.Y.UnSetMaster}),v({type:a.Y.DeleteUnsupportedMastersByServices});return}if(o){v({type:a.Y.DeleteAddress});return}u&&v({type:a.Y.DeleteNotes})},[t,i]);return(0,r.jsx)("div",{className:"hidden lg:block",children:(0,r.jsx)(l.x,{onClick:m})})}},35559:function(e,t,i){i.r(t),i.d(t,{BookingTotal:function(){return R}});var r=i(3827),s=i(45943),a=i(32635),l=i(47348),d=i(98313),n=i(9988),o=i(26936),c=i(81658),u=i(12694),v=i(47907),m=i(86926),p=i(20703),E=i(89539),f=i.n(E),h=i(77618),x=i.n(h),g=i(8792),_=i(22477),S=i(11677),y=i(42366),b=i.n(y),T=i(64090),j=i(64387),C=i(65244),M=i(24232),k=i(54965),A=i(97864),N=i(61916),w=i(2225);let D=(0,M.default)(()=>i.e(4105).then(i.bind(i,4105)).then(e=>({default:e.GiftCartSelect})),{loadableGenerated:{webpack:()=>[4105]},loading:()=>(0,r.jsx)(k.W,{})}),I=(0,M.default)(()=>Promise.all([i.e(298),i.e(5950)]).then(i.bind(i,65950)).then(e=>({default:e.BookingCouponCheck})),{loadableGenerated:{webpack:()=>[65950]}});f().extend(b()),f().extend(x());let R=e=>{var t,i,E,h,x,y,b,M,k,R,B,L,P,U,O;let{data:Y,nextPage:F,onClick:G,isLoading:Z,checkStaff:V,checkDate:z,checkPayment:H,checkLocation:W,checkNotePageAuth:$,hasExtraAddressForm:J,showCoupon:K=!1,runCalculate:X=!1}=e,{language:q,currency:Q}=(0,d.r)(),ee=(0,N.Z)(e=>e.user),{t:et}=(0,a.$G)(),ei=(0,v.useSearchParams)(),{state:er,dispatch:es}=(0,m.v)(),ea=(0,v.useRouter)(),[el,ed]=(0,T.useTransition)(),[en,eo,ec]=(0,j.d)(),{data:eu}=(0,n.a)(["shop",null==Y?void 0:Y.data.id,null==q?void 0:q.locale],()=>o.m.getById(null==Y?void 0:Y.data.id,{lang:null==q?void 0:q.locale,currency_id:null==Q?void 0:Q.id}),{initialData:Y}),ev={data:er.services.map(e=>{var t,i,r;let s=er.dateAndTimes.find(t=>{var i,r;return t.serviceMasterId===(null===(r=e.master)||void 0===r?void 0:null===(i=r.service_master)||void 0===i?void 0:i.id)});return{service_master_id:null===(i=e.master)||void 0===i?void 0:null===(t=i.service_master)||void 0===t?void 0:t.id,user_member_ship_id:e.userMemberShipId,service_extras:(null===(r=e.selected_extras)||void 0===r?void 0:r.length)?e.selected_extras.map(e=>e.id):void 0,start_date:"".concat(f()(null==s?void 0:s.date).format("YYYY-MM-DD")," ").concat(null==s?void 0:s.time)}}),currency_id:null==Q?void 0:Q.id,payment_id:null===(t=er.payment)||void 0===t?void 0:t.id,user_gift_cart_id:null===(i=er.giftCart)||void 0===i?void 0:i.shopGiftCartId,coupon:er.coupon},em=ev.data.some(e=>e.user_member_ship_id),{data:ep,isError:eE,isFetching:ef,isSuccess:eh}=(0,n.a)(["bookingCalculate",er],()=>S.s.calculate(ev,{lang:null==q?void 0:q.locale}),{enabled:!!ee&&!!er.time&&er.services.length>0&&X,retry:!1,meta:{showErrorMessageFromServer:!0}}),ex=er.services.reduce((e,t)=>{var i,r,s,a,l,d,n;let o=null==t?void 0:null===(i=t.selected_extras)||void 0===i?void 0:i.reduce((e,t)=>e+((null==t?void 0:t.price)||0),0);return e+(null!==(n=null!==(d=null!==(l=null!==(a=null==t?void 0:null===(s=t.master)||void 0===s?void 0:null===(r=s.service_master)||void 0===r?void 0:r.price)&&void 0!==a?a:t.min_price)&&void 0!==l?l:t.price)&&void 0!==d?d:t.total_price)&&void 0!==n?n:0)+(o||0)},0),eg=void 0===(null==ep?void 0:ep.data)?ex:null==ep?void 0:ep.data.total_price,e_=F;er.master&&"/booking/staff"===F&&er.time&&(e_="/booking/note"),er.master&&"/booking/staff-select"===F&&er.time&&(e_="/booking/note"),er.master&&"/booking/staff"===F&&(e_="/booking/date"),er.services.some(e=>"offline_out"===e.type)&&"/booking/note"===F&&!er.address&&(e_="/booking/location");let eS=0===er.services.length;V&&(eS=er.services.some(e=>void 0===e.master)),z&&(eS=er.services.length>er.dateAndTimes.length),H&&(eS=!er.payment),W&&(eS=!er.address),$&&(eS=!ee);let ey=null==ep?void 0:ep.data.items.flatMap(e=>e.errors).filter(e=>void 0!==e);return(0,r.jsxs)("div",{className:"fixed lg:static bottom-0 w-screen lg:w-auto left-0 lg:rounded-button rounded-t-button py-5 lg:px-5 px-4 lg:border border-gray-link shadow-fixedBooking lg:shadow-none bg-white",children:[(0,r.jsxs)("div",{className:"hidden lg:flex items-center gap-4 border-b border-gray-link pb-7",children:[(0,r.jsx)("div",{className:"w-20 h-20 relative rounded-full border border-gray-link aspect-square ",children:(0,r.jsx)(c.I,{src:(null==eu?void 0:null===(E=eu.data)||void 0===E?void 0:E.logo_img)||"",alt:(null==eu?void 0:null===(h=eu.data.translation)||void 0===h?void 0:h.title)||"shop",fill:!0,className:"object-contain rounded-full w-20 h-20"})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("h2",{className:"text-[28px] font-semibold line-clamp-1",children:null==eu?void 0:null===(x=eu.data.translation)||void 0===x?void 0:x.title}),(null==eu?void 0:null===(y=eu.data)||void 0===y?void 0:y.verify)&&(0,r.jsx)("span",{children:(0,r.jsx)(w.Z,{})})]}),(0,r.jsxs)(g.default,{className:"flex items-start gap-1",href:(0,_.J)(null==eu?void 0:eu.data.lat_long.latitude,null==eu?void 0:eu.data.lat_long.longitude),target:"_blank",children:[(0,r.jsx)(l.Z,{}),(0,r.jsx)("p",{className:"text-sm line-clamp-2",children:null==eu?void 0:null===(b=eu.data.translation)||void 0===b?void 0:b.address})]})]})]}),!!er.master&&(0,r.jsxs)("div",{className:"flex items-center gap-1 border-b border-gray-link py-4",children:[(0,r.jsx)("div",{className:"w-14 h-14 relative",children:(0,r.jsx)(p.default,{src:er.master.img,alt:er.master.firstname||"master",className:"rounded-full object-cover",fill:!0})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-xl font-medium",children:[er.master.firstname," ",null===(M=er.master)||void 0===M?void 0:M.lastname]}),(0,r.jsx)("span",{className:"text-gray-field text-base font-semibold",children:et("master")})]})]}),0!==er.services.length&&(0,r.jsx)("div",{className:"hidden lg:block border-b border-gray-link",children:er.services.map(e=>{var t,i,s,a,l,d,n,o,c,v,m,E,f,h,x,g;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-start justify-between py-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xl font-semibold",children:null===(t=e.translation)||void 0===t?void 0:t.title}),null===(i=e.selected_extras)||void 0===i?void 0:i.map(e=>{var t;return(0,r.jsxs)("p",{className:"text-base font-medium",children:[et("extra"),": ",null==e?void 0:null===(t=e.translation)||void 0===t?void 0:t.title]})}),(0,r.jsxs)("span",{className:"text-base text-gray-field font-medium",children:[et("time"),": ",null!==(E=null==e?void 0:null===(a=e.master)||void 0===a?void 0:null===(s=a.service_master)||void 0===s?void 0:s.interval)&&void 0!==E?E:e.interval,et("min")]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xl font-semibold whitespace-nowrap",children:(0,r.jsx)(u.t,{number:null!==(g=null!==(x=null!==(h=null!==(f=null==e?void 0:null===(d=e.master)||void 0===d?void 0:null===(l=d.service_master)||void 0===l?void 0:l.price)&&void 0!==f?f:null==e?void 0:e.min_price)&&void 0!==h?h:null==e?void 0:e.price)&&void 0!==x?x:null==e?void 0:e.total_price)&&void 0!==g?g:0})}),null===(n=e.selected_extras)||void 0===n?void 0:n.map(e=>{var t;return(0,r.jsx)("p",{className:"text-base font-medium",children:(0,r.jsx)(u.t,{number:null!==(t=null==e?void 0:e.price)&&void 0!==t?t:0})},e.id)})]})]},e.id),!!e.master&&!er.master&&(0,r.jsxs)("div",{className:"flex items-center gap-1 mb-4",children:[(0,r.jsx)("div",{className:"w-14 h-14 relative",children:(0,r.jsx)(p.default,{src:null===(o=e.master)||void 0===o?void 0:o.img,alt:(null===(c=e.master)||void 0===c?void 0:c.firstname)||"master",className:"rounded-full object-cover",fill:!0})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-xl font-medium",children:[null===(v=e.master)||void 0===v?void 0:v.firstname," ",null===(m=e.master)||void 0===m?void 0:m.lastname]}),(0,r.jsx)("span",{className:"text-gray-field text-base font-semibold",children:et("master")})]})]})]},e.id)})}),!!(null==ep?void 0:null===(k=ep.data)||void 0===k?void 0:k.coupon_price)&&(0,r.jsxs)("div",{className:"hidden lg:flex items-center justify-between py-7 text-xl border-b border-gray-link",children:[(0,r.jsx)("strong",{children:et("coupon")}),(0,r.jsx)("strong",{children:(0,r.jsx)(u.t,{number:null==ep?void 0:null===(R=ep.data)||void 0===R?void 0:R.coupon_price})})]}),!!(null==ep?void 0:ep.data.total_discount)&&(0,r.jsxs)("div",{className:"hidden lg:flex items-center justify-between py-7 text-xl border-b border-gray-link",children:[(0,r.jsx)("strong",{children:et("total.discount")}),(0,r.jsx)("strong",{children:(0,r.jsx)(u.t,{number:null==ep?void 0:ep.data.total_discount})})]}),!!(null==ep?void 0:ep.data.total_gift_cart_price)&&(0,r.jsxs)("div",{className:"hidden lg:flex items-center justify-between py-7 text-xl border-b border-gray-link",children:[(0,r.jsx)("strong",{children:et("total.gift.card")}),(0,r.jsx)("strong",{children:(0,r.jsx)(u.t,{number:null==ep?void 0:null===(B=ep.data)||void 0===B?void 0:B.total_gift_cart_price})})]}),!!(null==ep?void 0:ep.data.total_service_fee)&&(0,r.jsxs)("div",{className:"hidden lg:flex items-center justify-between py-7 text-xl border-b border-gray-link",children:[(0,r.jsx)("strong",{children:et("total.service.fee")}),(0,r.jsx)("strong",{children:(0,r.jsx)(u.t,{number:null==ep?void 0:ep.data.total_service_fee})})]}),!!(null==ep?void 0:null===(L=ep.data)||void 0===L?void 0:L.total_extra_price)&&(0,r.jsxs)("div",{className:"hidden lg:flex items-center justify-between py-7 text-xl border-b border-gray-link",children:[(0,r.jsx)("strong",{children:et("total.extras.price")}),(0,r.jsx)("strong",{children:(0,r.jsx)(u.t,{number:null==ep?void 0:null===(P=ep.data)||void 0===P?void 0:P.total_extra_price})})]}),(0,r.jsxs)("div",{className:"hidden lg:flex items-center justify-between py-7 text-[26px] font-semibold",children:[(0,r.jsx)("strong",{children:et("total")}),(0,r.jsx)("strong",{children:(0,r.jsx)(u.t,{number:null!=eg?eg:null==ep?void 0:ep.data.total_price})})]}),(0,r.jsx)("div",{children:null==ey?void 0:ey.map(e=>(0,r.jsx)("p",{className:"text-red text-sm",role:"alert",children:e},e))}),K&&(0,r.jsx)(I,{defaultValue:er.coupon,shopId:null==eu?void 0:eu.data.id,onCouponCheckSuccess:e=>es({type:A.Y.UpdateCoupon,payload:{name:e.name}}),onCouponCheckError:()=>es({type:A.Y.UpdateCoupon,payload:{name:void 0}})}),(0,r.jsxs)("div",{className:"mt-4 flex flex-col gap-4",children:[G&&!!ee&&eh&&!em&&(0,r.jsx)(s.z,{color:"blackOutlined",size:"medium",fullWidth:!0,onClick:()=>er.giftCart?es({type:A.Y.DeleteGiftCart}):eo(),children:et(er.giftCart?"delete.gift.cart":"use.gift.cart")}),(0,r.jsx)(s.z,{form:J?"external-address-form":void 0,onClick:()=>{if(!J){if(G){if("/booking/payment"===F){var e;if((null==ep?void 0:null===(e=ep.data)||void 0===e?void 0:e.total_price)===0){G();return}}else{G();return}}ed(()=>ea.push("/shops/".concat(null==eu?void 0:eu.data.slug).concat(e_||"/bookings").concat(ei.toString()?"?".concat(ei.toString()):"")))}},color:"black",fullWidth:!0,size:"medium",loading:Z||ef||el,disabled:eS||eE||null!=ep&&!!ep.data&&!(null==ep?void 0:ep.data.status)||(null===(U=er.master)||void 0===U?void 0:U.id)!==void 0&&(null===(O=er.unsupportedMastersByServices)||void 0===O?void 0:O.includes(er.master.id)),children:et("book.now")})]}),(0,r.jsx)(C.u,{isOpen:en,onClose:ec,withCloseButton:!0,children:(0,r.jsx)(D,{onSelect:ec,shopId:null==eu?void 0:eu.data.id})})]})}},47348:function(e,t,i){var r=i(3827);t.Z=()=>(0,r.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M13.7467 5.63317C13.0467 2.55317 10.3601 1.1665 8.00006 1.1665C8.00006 1.1665 8.00006 1.1665 7.9934 1.1665C5.64006 1.1665 2.94673 2.5465 2.24673 5.6265C1.46673 9.0665 3.5734 11.9798 5.48006 13.8132C6.18673 14.4932 7.0934 14.8332 8.00006 14.8332C8.90673 14.8332 9.8134 14.4932 10.5134 13.8132C12.4201 11.9798 14.5267 9.07317 13.7467 5.63317ZM8.00006 8.97317C6.84006 8.97317 5.90006 8.03317 5.90006 6.87317C5.90006 5.71317 6.84006 4.77317 8.00006 4.77317C9.16006 4.77317 10.1001 5.71317 10.1001 6.87317C10.1001 8.03317 9.16006 8.97317 8.00006 8.97317Z",fill:"currentColor"})})},2225:function(e,t,i){var r=i(3827);t.Z=e=>{let{size:t=20}=e;return(0,r.jsx)("svg",{viewBox:"0 0 24 24","aria-hidden":"true","data-testid":"verificationBadge",version:"1.1",id:"svg965",xmlns:"http://www.w3.org/2000/svg",fill:"#fff",width:t,height:t,children:(0,r.jsx)("g",{id:"g963",children:(0,r.jsx)("path",{d:"M22.25 12c0-1.43-.88-2.67-2.19-3.34.46-1.39.2-2.9-.81-3.91s-2.52-1.27-3.91-.81c-.66-1.31-1.91-2.19-3.34-2.19s-2.67.88-3.33 2.19c-1.4-.46-2.91-.2-3.92.81s-1.26 2.52-.8 3.91c-1.31.67-2.2 1.91-2.2 3.34s.89 2.67 2.2 3.34c-.46 1.39-.21 2.9.8 3.91s2.52 1.26 3.91.81c.67 1.31 1.91 2.19 3.34 2.19s2.68-.88 3.34-2.19c1.39.45 2.9.2 3.91-.81s1.27-2.52.81-3.91c1.31-.67 2.19-1.91 2.19-3.34zm-11.71 4.2L6.8 12.46l1.41-1.42 2.26 2.26 4.8-5.23 1.47 1.36-6.2 6.77z",id:"path961",fill:"#42A5F5"})})})}},77383:function(e,t,i){i.r(t),i.d(t,{BackButton:function(){return d}});var r=i(3827),s=i(47907);i(64090);var a=i(32635),l=()=>(0,r.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M9.57 5.93018L3.5 12.0002L9.57 18.0702",stroke:"currentColor",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M20.4999 12H3.66992",stroke:"currentColor",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})]});let d=e=>{let{title:t="back",onClick:i}=e,{t:d}=(0,a.$G)(),n=(0,s.useRouter)();return(0,r.jsxs)("button",{onClick:()=>{n.back(),i&&i()},className:"md:text-[22px] text-lg font-semibold flex items-center focus-ring outline-none rtl:flex-row-reverse gap-2.5",children:[(0,r.jsx)(l,{}),d(t)]})}},46748:function(e,t,i){i.d(t,{x:function(){return r.BackButton}});var r=i(77383)},16603:function(e,t,i){i.r(t),i.d(t,{ImageWithFallBack:function(){return o}});var r=i(3827),s=i(20703),a=i(64090),l=i(91774);let d=e=>'\n<svg width="100%" height="100%" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n  <defs>\n    <linearGradient id="g">\n      <stop \n      stop-color="'.concat(e?"#383838":"#E2E2E2",'" offset="20%" />\n      <stop stop-color="').concat(e?"#A0A09C":"#F6F6F6",'" offset="50%" />\n<stop stop-color="').concat(e?"#383838":"#E2E2E2",'" offset="70%" />\n</linearGradient>\n</defs>\n      <rect width="100%" height="100%" fill="').concat(e?"#383838":"#E2E2E2",'" />\n      <rect id="r" width="100%" height="100%" fill="url(#g)" />\n      <animate xlink:href="#r" attributeName="x" from="-100%" to="100%" dur="1s" repeatCount="indefinite"  />\n</svg>'),n=e=>window.btoa(e),o=e=>{let{src:t,loader:i,...o}=e,[c,u]=(0,a.useState)(!1),{theme:v}=(0,l.F)();return(0,r.jsx)(s.default,{...o,loader:c?void 0:i,src:c?"/img/image-load-failed.png":t,placeholder:"data:image/svg+xml;base64,".concat(n(d("dark"===v))),onError:()=>{u(!0)}})}},81658:function(e,t,i){i.d(t,{I:function(){return r.ImageWithFallBack}});var r=i(16603)},12694:function(e,t,i){i.d(t,{t:function(){return l}});var r=i(3827),s=i(64090),a=i(98313);let l=e=>{let{number:t,customCurrency:i}=e,[l,d]=(0,s.useState)(!1),n=Number.isInteger(t)?t:null==t?void 0:t.toFixed(2),{currency:o}=(0,a.r)(),c=i||o;return((0,s.useEffect)(()=>{d(!0)},[]),l)?(null==c?void 0:c.position)==="after"?(0,r.jsxs)(r.Fragment,{children:[n||0," ",null==c?void 0:c.symbol]}):(0,r.jsxs)(r.Fragment,{children:[null==c?void 0:c.symbol," ",n||0]}):null}},46941:function(e,t,i){i.r(t),i.d(t,{Translate:function(){return a}});var r=i(3827),s=i(32635);let a=e=>{let{value:t}=e,{t:i}=(0,s.$G)();return(0,r.jsx)(r.Fragment,{children:i(t)})}},59212:function(e,t,i){i.r(t),i.d(t,{useBooking:function(){return n}});var r=i(3827),s=i(64090),a=i(97864);let l={services:[],coupon:void 0,dateAndTimes:[]},d=(0,s.createContext)({state:l,dispatch:()=>null});t.default=e=>{let{children:t}=e,[i,n]=(0,s.useReducer)(a.n,l),o=(0,s.useMemo)(()=>({state:i,dispatch:n}),[i]);return(0,r.jsx)(d.Provider,{value:o,children:t})};let n=()=>{let e=(0,s.useContext)(d);if(!e)throw Error("useBooking has to be used within <Booking.Provider>");return e}},97864:function(e,t,i){var r,s;i.d(t,{Y:function(){return r},n:function(){return a}}),(s=r||(r={})).SelectService="SELECT_SERVICE",s.UpdateService="UPDATE_SERVICE",s.UnselectService="UNSELECT_SERVICE",s.SelectMasterForService="SELECT_MASTER_FOR_SERVICE",s.SetDate="SET_DATE",s.SetTime="SET_TIME",s.SetDateTime="SET_DATE_TIME",s.ClearDateTime="CLEAR_DATE_TIME",s.SetNote="SET_NOTE",s.SetPayment="SET_PAYMENT",s.SetMaster="SET_MASTER",s.UnSetMaster="UNSET_MASTER",s.UpdateAddress="UPDATE_ADDRESS",s.ResetBooking="RESET_BOOKING",s.SelectMembership="SELECT_MEMBERSHIP",s.DeleteMemberShip="DELETE_MEMBERSHIP",s.SetOnlyMaster="SET_ONLY_MASTER",s.SelectGiftCart="SELECT_GIFT_CART",s.DeleteGiftCart="DELETE_GIFT_CART",s.DeletePayment="DELETE_PAYMENT",s.DeleteNotes="DELETE_NOTES",s.DeleteAddress="DELETE_ADDRESS",s.SelectPurchaseGiftCard="SELECT_PURCHASE_GIFTCARD",s.UpdateCoupon="UPDATE_COUPON",s.UnsupportedMastersByServices="UNSUPPORTED_MASTERS_BY_SERVICES",s.DeleteUnsupportedMastersByServices="DELETE_UNSUPPORTED_MASTERS_BY_SERVICES",s.SetExtraAddress="SET_EXTERNAL_ADDRESS";let a=(e,t)=>{var i,r,s,a;switch(t.type){case"SELECT_SERVICE":return{...e,services:e.services.find(e=>e.id===t.payload.id)?e.services.filter(e=>e.id!==t.payload.id):[...e.services,t.payload]};case"UPDATE_SERVICE":return{...e,services:e.services.map(e=>e.id===t.payload.id?t.payload:e)};case"UNSELECT_SERVICE":return{...e,services:e.services.filter(e=>e.id!==t.payload)};case"SELECT_MASTER_FOR_SERVICE":return{...e,services:e.services.map(e=>e.id===t.payload.serviceId?{...e,master:t.payload.master}:e)};case"SET_DATE":return{...e,date:t.payload};case"SET_TIME":return{...e,time:t.payload};case"SET_DATE_TIME":return{...e,dateAndTimes:(null===(s=e.dateAndTimes)||void 0===s?void 0:s.find(e=>e.serviceMasterId===t.payload.serviceMasterId))?null===(a=e.dateAndTimes)||void 0===a?void 0:a.map(e=>e.serviceMasterId===t.payload.serviceMasterId?{...e,date:t.payload.date,time:t.payload.time}:e):[...e.dateAndTimes,{serviceMasterId:t.payload.serviceMasterId,date:t.payload.date,time:t.payload.time}],date:t.payload.date,time:t.payload.time};case"CLEAR_DATE_TIME":return{...e,date:void 0,time:void 0,dateAndTimes:null===(i=e.dateAndTimes)||void 0===i?void 0:i.filter(e=>e.serviceMasterId!==t.payload.serviceMasterId)};case"SET_NOTE":return{...e,services:e.services.map(e=>e.id===t.payload.serviceId?{...e,note:t.payload.note}:e)};case"SET_PAYMENT":return{...e,payment:t.payload};case"SET_MASTER":return{...e,master:t.payload,services:[],time:void 0,date:void 0,payment:void 0,address:void 0};case"SET_ONLY_MASTER":return{...e,master:t.payload.master,services:e.services.map(e=>{var i,r,s,a,l,d,n,o,c,u,v,m,p;return{...e,master:t.payload.master.service_master&&t.payload.serviceMasterInfo?{...t.payload.master,service_master:{...null===(i=t.payload.master)||void 0===i?void 0:i.service_master,price:(null===(s=t.payload.serviceMasterInfo)||void 0===s?void 0:null===(r=s.find(t=>(null==t?void 0:t.service_id)===e.id))||void 0===r?void 0:r.price)||(null===(l=t.payload.master)||void 0===l?void 0:null===(a=l.service_master)||void 0===a?void 0:a.price),interval:(null===(n=t.payload.serviceMasterInfo)||void 0===n?void 0:null===(d=n.find(t=>(null==t?void 0:t.service_id)===e.id))||void 0===d?void 0:d.interval)||(null===(c=t.payload.master)||void 0===c?void 0:null===(o=c.service_master)||void 0===o?void 0:o.interval),id:(null===(v=t.payload.serviceMasterInfo)||void 0===v?void 0:null===(u=v.find(t=>t.service_id===e.id))||void 0===u?void 0:u.id)||(null===(p=t.payload.master)||void 0===p?void 0:null===(m=p.service_master)||void 0===m?void 0:m.id)}}:t.payload.master}})};case"UNSET_MASTER":return{...e,master:void 0,services:e.services.map(e=>({...e,master:void 0}))};case"UNSUPPORTED_MASTERS_BY_SERVICES":return{...e,unsupportedMastersByServices:(null==e?void 0:null===(r=e.unsupportedMastersByServices)||void 0===r?void 0:r.length)?[...e.unsupportedMastersByServices,t.payload]:[t.payload]};case"DELETE_UNSUPPORTED_MASTERS_BY_SERVICES":return{...e,unsupportedMastersByServices:void 0};case"UPDATE_ADDRESS":return{...e,address:t.payload};case"RESET_BOOKING":return{services:[],coupon:void 0,dateAndTimes:[]};case"SELECT_MEMBERSHIP":return{...e,services:e.services.map(e=>e.id===t.payload.serviceId?{...e,membership:t.payload.membership,userMemberShipId:t.payload.userMembershipId}:e)};case"DELETE_MEMBERSHIP":return{...e,services:e.services.map(e=>e.id===t.payload?{...e,membership:void 0,userMemberShipId:void 0}:e)};case"SELECT_GIFT_CART":return{...e,giftCart:t.payload};case"SELECT_PURCHASE_GIFTCARD":return{...e,giftCardForPurchase:t.payload};case"DELETE_GIFT_CART":return{...e,giftCart:void 0};case"DELETE_PAYMENT":return{...e,payment:void 0};case"DELETE_ADDRESS":return{...e,address:void 0};case"DELETE_NOTES":return{...e,services:e.services.map(e=>({...e,note:void 0,membership:void 0}))};case"UPDATE_COUPON":return{...e,coupon:t.payload.name};case"SET_EXTERNAL_ADDRESS":return{...e,extraAddress:t.payload};default:return e}}},86926:function(e,t,i){i.d(t,{v:function(){return r.useBooking}});var r=i(59212)},26936:function(e,t,i){i.d(t,{m:function(){return a}});var r=i(31995),s=i(68466);let a={getAll:e=>(0,r.Z)((0,s.d)("v1/rest/shops/paginate",e)),create:e=>r.Z.post("v1/dashboard/user/shops",{body:e}),getById:(e,t)=>(0,r.Z)((0,s.d)("v1/rest/shops/".concat(e),t),{cache:"no-cache",redirectOnError:!0}),getBySlug:(e,t)=>(0,r.Z)((0,s.d)("v1/rest/shops/slug/".concat(e),t),{cache:"no-store",redirectOnError:!0}),gellery:e=>(0,r.Z)("v1/rest/shops/slug/".concat(e,"/galleries"),{redirectOnError:!0}),getByIds:e=>(0,r.Z)((0,s.d)("v1/rest/shops/paginate",e)),getAllTags:e=>(0,r.Z)((0,s.d)("v1/rest/shops-takes",e)),getShopFilters:()=>(0,r.Z)("v1/rest/shop-filter")}},22477:function(e,t,i){i.d(t,{J:function(){return r}});let r=(e,t)=>"https://www.google.com/maps/@".concat(e,",").concat(t,",15z")}}]);