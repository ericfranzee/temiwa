"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6518],{66518:function(e,l,t){var i=t(3827),o=t(4798),n=t(32635),r=t(64090),a=t(15494),s=t(26177),d=t(45943),u=t(41991),c=t(82670),v=t(87957),m=t(55826),g=t(74067),h=t(47001),p=t(72020),x=t(75718),b=t(76833),f=t(98313);let j=u.object({firstname:u.string().required().max(255),lastname:u.string().required().max(255),phone:u.string().required().max(255),zipcode:u.string().required().max(255),street_house_number:u.string().required().max(255),additional_details:u.string().max(255),city:u.object({id:u.number()}).nullable(),location:u.object({address:u.string().required(),latitude:u.string(),longitude:u.string()})}).required();l.Z=e=>{var l,t,u,y,C,w,_,A,N,k,L,S,B,P,Z;let{onCancel:q,data:z,onSubmit:M,isButtonLoading:T}=e,{t:E}=(0,n.$G)(),I=(0,a.Z)(e=>e.city),R=(0,a.Z)(e=>e.country),{settings:G}=(0,f.r)(),W=(0,r.useRef)(null),[U,F]=(0,r.useState)(null),[V,K]=(0,r.useState)(!1),{mutate:D}=(0,b.B)(),{register:O,handleSubmit:Q,formState:{errors:J},setValue:X,watch:H}=(0,c.cI)({resolver:(0,v.X)(j),defaultValues:{city:(null==z?void 0:z.city)||I,firstname:null==z?void 0:z.firstname,lastname:null==z?void 0:z.lastname,zipcode:null==z?void 0:z.zipcode,additional_details:null==z?void 0:z.additional_details,phone:null==z?void 0:z.phone,street_house_number:null==z?void 0:z.street_house_number,location:{latitude:(null==z?void 0:null===(l=z.location)||void 0===l?void 0:l.latitude)||(null==G?void 0:null===(u=G.location)||void 0===u?void 0:null===(t=u.split(","))||void 0===t?void 0:t[0])||h.RP.lat.toString(),longitude:(null==z?void 0:null===(y=z.location)||void 0===y?void 0:y.longitude)||(null==G?void 0:null===(w=G.location)||void 0===w?void 0:null===(C=w.split(","))||void 0===C?void 0:C[1])||h.RP.lng.toString(),address:(null==z?void 0:null===(_=z.location)||void 0===_?void 0:_.address)||(null==G?void 0:G.address)}}}),Y=H("location"),$={lat:Number(Y.latitude),lng:Number(Y.longitude)};return console.log(V),(0,i.jsx)("form",{onSubmit:Q(M),className:"mt-7",children:(0,i.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,i.jsxs)("div",{className:"col-span-4",children:[(0,i.jsx)(g.Map,{containerStyles:{width:"100%",height:"300px",borderRadius:"15px"},onClick:e=>{var l,t,i,o;X("location.latitude",null===(l=e.latLng)||void 0===l?void 0:l.lat().toString()),X("location.longitude",null===(t=e.latLng)||void 0===t?void 0:t.lng().toString()),D({lat:null===(i=e.latLng)||void 0===i?void 0:i.lat(),lng:null===(o=e.latLng)||void 0===o?void 0:o.lng()},{onSuccess:e=>{var l,t,i,o,n,r,a;let s=null==e?void 0:null===(t=e.results)||void 0===t?void 0:null===(l=t[0])||void 0===l?void 0:l.formatted_address;K(!1),!R||(null===(n=e.plus_code)||void 0===n?void 0:null===(o=n.compound_code)||void 0===o?void 0:o.toLowerCase().includes(null===(i=R.translation)||void 0===i?void 0:i.title.toLowerCase()))?K(!1):K(!0),I&&((null===(a=e.plus_code.compound_code)||void 0===a?void 0:a.toLowerCase().includes(null===(r=I.translation)||void 0===r?void 0:r.title.toLowerCase()))?K(!1):K(!0)),X("location.address",s)}})},options:{center:$,streetViewControl:!1,mapTypeControl:!1,zoomControl:!1},onLoad:e=>F(e),children:(0,i.jsx)(p.jC,{icon:x.Z.src,position:$})}),U&&(0,i.jsx)(p.F2,{className:"flex-grow h-full shadow-none mt-4",onLoad:e=>{W.current=e},onPlaceChanged:()=>{if(null!==W.current){var e,l,t,i,o;let n=null===(e=W.current)||void 0===e?void 0:e.getPlace();X("location.latitude",null==n?void 0:null===(t=n.geometry)||void 0===t?void 0:null===(l=t.location)||void 0===l?void 0:l.lat().toString(10)),X("location.longitude",null==n?void 0:null===(o=n.geometry)||void 0===o?void 0:null===(i=o.location)||void 0===i?void 0:i.lng().toString(10)),X("location.address",(null==n?void 0:n.formatted_address)||"")}},children:(0,i.jsx)(o.I,{fullWidth:!0,label:E("address"),...O("location.address"),error:null===(N=J.location)||void 0===N?void 0:null===(A=N.address)||void 0===A?void 0:A.message,required:!0})})]}),(0,i.jsx)("div",{className:"col-span-2",children:(0,i.jsx)(o.I,{fullWidth:!0,label:E("first.name"),...O("firstname"),error:null===(k=J.firstname)||void 0===k?void 0:k.message,required:!0})}),(0,i.jsx)("div",{className:"col-span-2",children:(0,i.jsx)(o.I,{fullWidth:!0,label:E("last.name"),...O("lastname"),error:null===(L=J.lastname)||void 0===L?void 0:L.message,required:!0})}),(0,i.jsx)("div",{className:"col-span-4",children:(0,i.jsx)(m.s,{onChange:e=>X("phone",e),value:H("phone"),country:null==R?void 0:R.code,error:null===(S=J.phone)||void 0===S?void 0:S.message})}),(0,i.jsx)("div",{className:"col-span-2",children:(0,i.jsx)(o.I,{fullWidth:!0,label:E("zip.code"),...O("zipcode"),type:"number",error:null===(B=J.zipcode)||void 0===B?void 0:B.message,required:!0})}),(0,i.jsx)("div",{className:"col-span-2",children:(0,i.jsx)(s.q,{onSelect:e=>X("city",e),value:H("city"),queryKey:"v1/rest/cities",queryParams:{country_id:null==R?void 0:R.id},extractTitle:e=>{var l;return null==e?void 0:null===(l=e.translation)||void 0===l?void 0:l.title},extractKey:e=>e.id,disabled:!0})}),(0,i.jsx)("div",{className:"col-span-4",children:(0,i.jsx)(o.I,{fullWidth:!0,label:E("home.number"),...O("street_house_number"),error:null===(P=J.street_house_number)||void 0===P?void 0:P.message,required:!0})}),(0,i.jsx)("div",{className:"col-span-4",children:(0,i.jsx)(o.I,{fullWidth:!0,label:E("detail"),...O("additional_details"),error:null===(Z=J.additional_details)||void 0===Z?void 0:Z.message})}),(0,i.jsxs)("div",{className:"col-span-4 flex items-center gap-4",children:[!!q&&(0,i.jsx)(d.z,{fullWidth:!0,onClick:q,type:"button",disabled:T,children:E("cancel")}),(0,i.jsx)(d.z,{type:"submit",loading:T,fullWidth:!0,color:"black",children:E("next")})]})]})})}},6584:function(e,l,t){var i=t(3827);t(64090),l.Z=e=>(0,i.jsxs)("svg",{width:"20",height:"20",...e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("g",{clipPath:"url(#clip0_1_7372)",children:(0,i.jsx)("path",{d:"M9.99865 10.9766L14.1236 6.85156L15.302 8.0299L9.99865 13.3332L4.69531 8.0299L5.87365 6.85156L9.99865 10.9766Z",fill:"currentColor"})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_1_7372",children:(0,i.jsx)("rect",{width:"20",height:"20",fill:"white"})})})]})},26177:function(e,l,t){t.d(l,{q:function(){return w}});var i=t(3827),o=t(44679),n=t(3615),r=t(6584),a=t(64090),s=t(32635),d=t(31995),u=t(2084),c=t(2868),v=t(68466),m=t(34734),g=t(73663),h=t(33089),p=t(54965),x=t(16777),b=t(60140),f=t(70577),j=t(24228),y=t(32986);let C={large:"py-[19px]",medium:"py-[11px]"},w=e=>{let{value:l,onSelect:t,extractKey:w,extractTitle:_,label:A,queryKey:N,status:k="default",queryParams:L,size:S="large",disabled:B,error:P,required:Z}=e,{t:q}=(0,s.$G)(),[z,M]=(0,a.useState)(""),T=(0,y.a)("(max-width: 768px)"),[E,I]=(0,a.useState)(!1),[R,G]=(0,a.useState)(!1),W=(0,u.N)(z),{data:U,isLoading:F,hasNextPage:V,fetchNextPage:K,isFetchingNextPage:D}=(0,c.N)({queryKey:[N,W,L],queryFn:e=>{let{pageParam:l}=e;return(0,d.Z)((0,v.d)(N,{search:W,page:l,...L}))},enabled:!!N&&(E||T&&R),getNextPageParam:e=>{var l;return(null==e?void 0:e.meta)&&(null==e?void 0:null===(l=e.links)||void 0===l?void 0:l.next)&&e.meta.current_page+1}}),O=(0,x.v)(null==U?void 0:U.pages);return(0,i.jsx)(o.h,{disabled:B,value:l,onChange:t,by:(e,l)=>w(e)===w(l),children:e=>{let{open:t}=e;return(0,i.jsxs)("div",{className:"relative ",children:[!!A&&(0,i.jsxs)(o.h.Label,{className:"text-sm",children:[q(A),Z&&"*",":"]}),(0,i.jsxs)("div",{className:(0,m.Z)("relative w-full cursor-default  text-left focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-teal-300 sm:text-sm"),children:[(0,i.jsx)(o.h.Input,{onFocus:()=>I(!0),onBlur:()=>I(!1),className:(0,m.Z)("px-4  w-full text-sm bg-transparent rounded-2xl border appearance-none focus:outline-none focus:ring-0  peer hidden md:block","default"===k&&"border-gray-inputBorder focus-visible:border-primary","error"===k&&"border-badge-product focus-visible:border-red-700","success"===k&&"border-green-500 focus-visible:border-red-700",C[S],B&&"text-gray-field cursor-not-allowed"),displayValue:_,onChange:e=>M(e.target.value)}),(0,i.jsx)("button",{type:"button",onClick:()=>G(e=>!e),className:"block px-4 text-start w-full text-sm bg-transparent rounded-2xl border appearance-none focus:outline-none focus:ring-0  peer border-gray-inputBorder focus-visible:border-primary md:hidden h-11",children:l&&_(l)}),(0,i.jsx)(o.h.Button,{type:"button",className:(0,m.Z)("absolute inset-y-0 right-0 rtl:left-1  rtl:right-auto flex items-center pr-2",B&&"text-gray-field"),children:(0,i.jsx)(r.Z,{className:"h-5 w-5 ","aria-hidden":"true"})})]}),!!P&&(0,i.jsx)("p",{role:"alert",className:"text-sm text-red mt-1",children:P}),(0,i.jsx)(b.b,{hasMore:V,loadMore:K,loading:D,children:(0,i.jsx)(n.u,{as:a.Fragment,show:T?R:t,enter:"ease-out duration-300",enterFrom:"sm:translate-y-0 translate-y-full",leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0 sm:translate-y-0 translate-y-full",afterLeave:()=>M(""),children:(0,i.jsxs)(o.h.Options,{className:"md:absolute fixed bottom-0 left-0 md:bottom-auto pt-4 min-h-[40vh] md:min-h-0 md:pt-0 rounded-t-2xl md:rounded-t-md md:rounded-b-md w-screen md:w-full mt-1 md:max-h-60 max-h-[80vh] overflow-auto bg-white dark:bg-dark py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm z-20",static:!0,children:[(0,i.jsxs)("div",{className:"md:hidden flex items-center justify-between px-2 pb-2",children:[(0,i.jsx)("span",{className:"text-base",children:q(A||"")}),(0,i.jsx)(f.h,{onClick:()=>G(!1),type:"button",children:(0,i.jsx)(j.Z,{})})]}),F?(0,i.jsx)(p.W,{}):(null==O?void 0:O.length)===0||""!==z?(0,i.jsx)("div",{className:"relative cursor-default select-none py-2 px-4 text-gray-700",children:q("nothing.found")}):null==O?void 0:O.map((e,l)=>(0,i.jsx)(o.h.Option,{onClick:()=>T&&G(!1),className:e=>{let{active:t}=e;return"relative cursor-default font-medium select-none py-4 flex items-center gap-2.5 px-5 ".concat(t?"bg-gray-100 dark:bg-gray-bold":""," ").concat(0!==l&&"border-t border-gray-inputBorder")},value:e,children:l=>{let{selected:t}=l;return(0,i.jsxs)(i.Fragment,{children:[t?(0,i.jsx)("div",{className:"text-primary dark:text-white",children:(0,i.jsx)(g.Z,{})}):(0,i.jsx)("div",{className:"text-gray-field",children:(0,i.jsx)(h.Z,{})}),(0,i.jsx)("span",{className:"block truncate ".concat(t?"font-medium":"font-normal"),children:_(e)})]})}},w(e)))]})})})]})}})}},74067:function(e,l,t){t.r(l),t.d(l,{Map:function(){return h}});var i=t(3827),o=t(64090),n=t(72020),r=t(47001),a=t(70577),s=()=>(0,i.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("g",{clipPath:"url(#clip0_1_6300)",children:(0,i.jsx)("path",{d:"M3.38325 2.68329L25.3224 9.99595C25.436 10.0336 25.5352 10.1052 25.6067 10.2012C25.6781 10.2971 25.7184 10.4127 25.722 10.5323C25.7255 10.6519 25.6922 10.7696 25.6266 10.8697C25.561 10.9697 25.4662 11.0471 25.3551 11.0915L15.1666 15.1666L10.0041 25.4916C9.95155 25.5968 9.86848 25.6836 9.76576 25.7407C9.66304 25.7978 9.54547 25.8226 9.42844 25.8117C9.3114 25.8009 9.20038 25.7549 9.10991 25.6799C9.01943 25.6049 8.95373 25.5043 8.92142 25.3913L2.63658 3.39612C2.60747 3.29394 2.60682 3.18574 2.6347 3.08322C2.66258 2.98069 2.71793 2.88773 2.79478 2.81436C2.87163 2.74099 2.96706 2.69001 3.07077 2.66691C3.17448 2.64381 3.28252 2.64947 3.38325 2.68329Z",fill:"black"})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_1_6300",children:(0,i.jsx)("rect",{width:"28",height:"28",fill:"white"})})})]}),d=t(54965),u=t(98313),c=t(99281),v=t(11950),m=t(49079);let g=["places"],h=(0,o.memo)(e=>{let{center:l,containerStyles:t,children:h,zoom:p=9,options:x,onClick:b,onLoad:f,onCenterChange:j,findMyLocation:y=!0}=e,{settings:C}=(0,u.r)(),w=r.RP;if(null==C?void 0:C.location){let e=C.location.split(",");w={lat:Number(e[0]),lng:Number(e[1])}}l&&(w=l);let[_,A]=(0,o.useState)(w),[N,k]=(0,o.useState)(p),{isLoaded:L}=(0,n.Ji)({id:"google-map-script",googleMapsApiKey:(null==C?void 0:C.google_map_key)||m.env.NEXT_PUBLIC_GOOGLE_MAPS_KEY,libraries:g});return L?(0,i.jsxs)(n.b6,{mapContainerStyle:t,center:_,onLoad:f,mapContainerClassName:"!font-sans",zoom:N,options:x,onClick:b,onCenterChanged:j,children:[h,y&&(0,i.jsxs)("div",{className:"absolute bottom-5 right-5 flex flex-col gap-3",children:[(0,i.jsxs)("div",{className:"flex flex-col bg-white rounded-[5px] items-center",children:[(0,i.jsx)(a.h,{onClick:()=>k(e=>e<15?e+1:e),type:"button",size:"large",children:(0,i.jsx)(c.Z,{})}),(0,i.jsx)("div",{className:"h-px bg-footerBg w-10/12 bg-opacity-20"}),(0,i.jsx)(a.h,{onClick:()=>k(e=>e>2?e-1:e),type:"button",size:"large",children:(0,i.jsx)(v.Z,{})})]}),(0,i.jsx)(a.h,{type:"button",onClick:()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>{A({lat:e.coords.latitude,lng:e.coords.longitude}),k(14)})},size:"large",color:"white",children:(0,i.jsx)(s,{})})]})]}):(0,i.jsx)(d.W,{})})},55826:function(e,l,t){t.d(l,{s:function(){return d}});var i=t(3827),o=t(20167),n=t.n(o);t(40561);var r=t(34734),a=t(64090),s=t(32635);let d=e=>{let{status:l="default",error:t,inputClass:o,...d}=e,u=(0,a.useId)(),{t:c}=(0,s.$G)();return(0,i.jsxs)("div",{className:"relative",dir:"ltr",children:[(0,i.jsx)(n(),{...d,inputProps:{id:u},dropdownClass:"!rounded-2xl dark:!bg-dark",buttonClass:"!rouned-2xl !bg-transparent !border-none hover:!bg-transparent",inputClass:(0,r.Z)("block px-4 w-full !text-sm bg-transparent !rounded-2xl border appearance-none focus:outline-none focus:ring-0  peer !w-full",null!=o?o:"!py-[29px]","default"===l&&"!border-gray-inputBorder focus-visible:border-primary","error"===l&&"!border-badge-product focus-visible:border-red-700","success"===l&&"!border-green-500 focus-visible:border-red-700")}),t&&(0,i.jsx)("p",{role:"alert",className:"text-red text-sm mt-1",children:c(t)})]})}},76833:function(e,l,t){t.d(l,{B:function(){return a}});var i=t(8186),o=t(68466),n=t(98313),r=t(49079);let a=()=>{let{settings:e}=(0,n.r)();return(0,i.D)({mutationFn:async l=>{let t={latlng:"".concat(null==l?void 0:l.lat,",").concat(null==l?void 0:l.lng),lang:"en",key:(null==e?void 0:e.google_map_key)?e.google_map_key:r.env.NEXT_PUBLIC_GOOGLE_MAPS_KEY};return fetch((0,o.d)("https://maps.googleapis.com/maps/api/geocode/json",t)).then(e=>e.json())}})}},75718:function(e,l){l.Z={src:"/_next/static/media/pin.57fe8a31.png",height:60,width:47,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAICAMAAADtGH4KAAAAMFBMVEXIRybvTCDhTSLiUS/oTiP2yr7kTibpUijiUS7jTyXhUSjlTCPlTSP77ur2WS7zrZs1oGD7AAAADnRSTlMB/msRVvycPyyBitLA+fxxzRMAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAvSURBVHicNcTJEQAgCACxBQRv7L9bx4d5BEzVwGbmgpLbpVLTjzQIkQ4Q4/1pgQsbiwDGN1Mo/gAAAABJRU5ErkJggg==",blurWidth:6,blurHeight:8}}}]);