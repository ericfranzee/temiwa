"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1276],{51276:function(e,d,s){s.r(d);var i=s(3827),t=s(8186),a=s(64095),n=s(91705),r=s(15494),o=s(42776),u=s(44774),l=s(70566),c=s(66518);d.default=e=>{let{onCancel:d,onSuccess:s,deliveryPrice:v}=e,y=(0,r.Z)(e=>e.country),{mutate:_,isLoading:p}=(0,t.D)({mutationFn:e=>n.W.create(e),onError:e=>(0,o.vU)(e.message)}),g=(0,a.NL)(),{dispatch:k,state:f}=(0,l.useCheckout)();return(0,i.jsx)(c.Z,{isButtonLoading:p,onCancel:d,onSubmit:e=>{var d;_({...e,region_id:null==y?void 0:y.region_id,country_id:null==y?void 0:y.id,city_id:null===(d=e.city)||void 0===d?void 0:d.id},{onSuccess:e=>{!f.deliveryAddress&&e.data.addresses&&k({type:u.Y.UpdateDeliveryAddress,payload:{address:e.data.addresses[0],deliveryPrice:v}}),s()},onSettled:()=>{g.invalidateQueries(["addresses"])}})}})}}}]);