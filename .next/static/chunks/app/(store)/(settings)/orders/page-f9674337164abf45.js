(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2831,9028],{7224:function(e,t,n){Promise.resolve().then(n.bind(n,32153))},32153:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(3827);n(64090);var i=n(2868),s=n(56455),a=n(16777),l=n(60140),o=n(59559),c=n(32635),d=n(98313),u=n(72001),p=n(34734),v=n(12694),m=n(89539),f=n.n(m),g=n(8792),y=n(23564);let x=e=>{let{active:t,data:n}=e,{hourFormat:i}=(0,y.L)();return(0,r.jsx)(g.default,{className:"w-full",scroll:!1,href:"/orders/".concat(n.id),children:(0,r.jsxs)("div",{className:(0,p.Z)("relative border-t border-gray-orderCard dark:border-gray-bold py-5 md:pr-5 pr-1 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-inputBorder",t?"md:pl-10 pl-5":"md:pl-5 pl-1"),children:[t&&(0,r.jsx)("div",{className:"w-[14px] absolute left-0 top-3 bottom-3 bg-primary rounded-r-2xl"}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsxs)("strong",{className:"text-base text-start font-bold",children:["#",n.id]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"semi-bold text-sm",children:(0,r.jsx)(v.t,{customCurrency:n.currency,number:n.total_price})}),(0,r.jsx)("div",{className:"bg-gray-bold w-1 h-1 rounded-full"}),(0,r.jsx)("span",{className:"font-medium text-sm",children:f()(n.delivery_date).format("YYYY-MM-DD ".concat(i))})]})]}),(0,r.jsx)("div",{className:"rotate-180 rtl:rotate-0",children:(0,r.jsx)(u.Z,{})})]})})};var h=()=>{let{t:e}=(0,c.$G)(),{language:t}=(0,d.r)(),{data:n,hasNextPage:u,isFetchingNextPage:p,fetchNextPage:v}=(0,i.N)(["activeOrders"],e=>{let{pageParam:n}=e;return s.X.getAll({page:n,parent:1,lang:null==t?void 0:t.locale})},{getNextPageParam:e=>e.links.next&&e.meta.current_page+1,refetchOnWindowFocus:!0}),m=(0,a.v)(null==n?void 0:n.pages);return(0,r.jsx)("div",{className:"flex flex-col gap-7 w-full",children:(0,r.jsxs)("div",{className:"border border-gray-inputBorder rounded-2xl overflow-x-hidden max-h-screen overflow-y-auto relative",children:[(0,r.jsx)("div",{className:"p-5 sticky top-0 bg-white dark:bg-darkBg z-[2]",children:(0,r.jsx)("h6",{className:"text-lg font-semibold",children:e("orders")})}),(0,r.jsx)(l.b,{loadMore:v,hasMore:u,loading:p,children:m&&m.length>0?null==m?void 0:m.map(e=>(0,r.jsx)(x,{data:e,active:!0},e.id)):(0,r.jsx)(o.Empty,{text:"no.active.orders",smallText:!0})})]})})}},72001:function(e,t,n){"use strict";var r=n(3827);n(64090),t.Z=e=>{let{size:t,...n}=e;return(0,r.jsx)("svg",{width:t||"30",height:t||"30",...n,viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M17.5 9.375C17.5 9.375 12.5 14.375 12.5 15C12.5 15.625 17.5 20.625 17.5 20.625",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}},29541:function(e,t,n){"use strict";var r=n(3827);n(64090),t.Z=e=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e.size||"20",height:e.size||"20",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",...e,children:[(0,r.jsxs)("circle",{cx:"84",cy:"50",r:"10",fill:"currentColor",children:[(0,r.jsx)("animate",{attributeName:"r",repeatCount:"indefinite",dur:"0.25s",calcMode:"spline",keyTimes:"0;1",values:"10;0",keySplines:"0 0.5 0.5 1",begin:"0s"}),(0,r.jsx)("animate",{attributeName:"fill",repeatCount:"indefinite",dur:"1s",calcMode:"discrete",keyTimes:"0;0.25;0.5;0.75;1",values:"currentColor;#fdfdfd;#dce4eb;#bbcedd;currentColor",begin:"0s"})]}),(0,r.jsxs)("circle",{cx:"16",cy:"50",r:"10",fill:"currentColor",children:[(0,r.jsx)("animate",{attributeName:"r",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keyTimes:"0;0.25;0.5;0.75;1",values:"0;0;10;10;10",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1",begin:"0s"}),(0,r.jsx)("animate",{attributeName:"cx",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keyTimes:"0;0.25;0.5;0.75;1",values:"16;16;16;50;84",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1",begin:"0s"})]}),(0,r.jsxs)("circle",{cx:"50",cy:"50",r:"10",fill:"#bbcedd",children:[(0,r.jsx)("animate",{attributeName:"r",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keyTimes:"0;0.25;0.5;0.75;1",values:"0;0;10;10;10",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1",begin:"-0.25s"}),(0,r.jsx)("animate",{attributeName:"cx",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keyTimes:"0;0.25;0.5;0.75;1",values:"16;16;16;50;84",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1",begin:"-0.25s"})]}),(0,r.jsxs)("circle",{cx:"84",cy:"50",r:"10",fill:"#dce4eb",children:[(0,r.jsx)("animate",{attributeName:"r",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keyTimes:"0;0.25;0.5;0.75;1",values:"0;0;10;10;10",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1",begin:"-0.5s"}),(0,r.jsx)("animate",{attributeName:"cx",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keyTimes:"0;0.25;0.5;0.75;1",values:"16;16;16;50;84",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1",begin:"-0.5s"})]}),(0,r.jsxs)("circle",{cx:"16",cy:"50",r:"10",fill:"#fdfdfd",children:[(0,r.jsx)("animate",{attributeName:"r",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keyTimes:"0;0.25;0.5;0.75;1",values:"0;0;10;10;10",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1",begin:"-0.75s"}),(0,r.jsx)("animate",{attributeName:"cx",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keyTimes:"0;0.25;0.5;0.75;1",values:"16;16;16;50;84",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1",begin:"-0.75s"})]})]})},59559:function(e,t,n){"use strict";n.r(t),n.d(t,{Empty:function(){return d}});var r=n(3827);n(64090);var i=n(32635),s=n(33056),a=n(20703),l=n(24232),o=n(34734);let c=(0,l.default)(()=>Promise.all([n.e(4705),n.e(1411),n.e(1030)]).then(n.bind(n,8385)),{loadableGenerated:{webpack:()=>[8385]}}),d=e=>{let{text:t,imagePath:n,description:l,animated:d=!0,smallText:u}=e,{t:p}=(0,i.$G)();return(0,r.jsx)("div",{className:"flex justify-center py-4",children:(0,r.jsxs)("div",{className:"max-w-2xl flex flex-col items-center gap-3",children:[d?(0,r.jsx)(c,{animationData:s}):(0,r.jsx)(a.default,{src:n||"/img/empty_salon.png",alt:"empty_cart",className:"max-w-[400px]",width:300,height:400}),(0,r.jsx)("p",{className:(0,o.Z)("font-semibold",u?"text-xl":"text-4xl"),children:p(t||"there.is.no.items")}),!!l&&(0,r.jsx)("span",{className:"text-lg",children:p(l)})]})})}},60140:function(e,t,n){"use strict";n.d(t,{b:function(){return l}});var r=n(3827),i=n(64090);let s=e=>{let{threshold:t=.1,root:n=null,rootMargin:r="50%",enabled:s=!1,onScreen:a=()=>null}=e,l=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let e=null==l?void 0:l.current;if(!s||!e)return;let i=new IntersectionObserver(e=>e.forEach(e=>{e.isIntersecting&&a()}),{threshold:t,root:n,rootMargin:r});return i.observe(e),()=>{i.unobserve(e)}},[null==l?void 0:l.current,s]),l};var a=n(29541);let l=e=>{let{hasMore:t,loadMore:n,loading:i=!1,children:l}=e,o=s({enabled:!!t&&!i,onScreen:()=>{n()},rootMargin:"30px",threshold:.2});return(0,r.jsxs)(r.Fragment,{children:[l,i&&(0,r.jsx)("div",{className:"flex justify-center my-7",children:(0,r.jsx)(a.Z,{})}),(0,r.jsx)("span",{"aria-label":"bottom",ref:o,style:{visibility:"hidden"}})]})}},12694:function(e,t,n){"use strict";n.d(t,{t:function(){return a}});var r=n(3827),i=n(64090),s=n(98313);let a=e=>{let{number:t,customCurrency:n}=e,[a,l]=(0,i.useState)(!1),o=Number.isInteger(t)?t:null==t?void 0:t.toFixed(2),{currency:c}=(0,s.r)(),d=n||c;return((0,i.useEffect)(()=>{l(!0)},[]),a)?(null==d?void 0:d.position)==="after"?(0,r.jsxs)(r.Fragment,{children:[o||0," ",null==d?void 0:d.symbol]}):(0,r.jsxs)(r.Fragment,{children:[null==d?void 0:d.symbol," ",o||0]}):null}},47001:function(e,t,n){"use strict";n.d(t,{$U:function(){return v},H$:function(){return a},PH:function(){return m},RP:function(){return o},VW:function(){return u},_L:function(){return x},_n:function(){return s},aJ:function(){return f},c1:function(){return g},i$:function(){return y},jU:function(){return p},jp:function(){return c},tg:function(){return d}});var r,i=n(49079);let s="https://api.temiwa.com/api/",a="Bearer",l=null===(r=i.env.NEXT_PUBLIC_DEFAULT_LOCATION)||void 0===r?void 0:r.split(","),o=l?{lat:Number(l[0]),lng:Number(l[1])}:{lat:9.064477,lng:7.486209},c=["new","accepted","ready","on_a_way"],d=["delivered","canceled"],u={order:"orders",parcelorder:"parcels",blog:"news",booking:"bookings"},p=["cash","wallet"],v=10,m=["#FFEDD7","#D6FFD2","#F1D2D2","#D8DCFF","#F7D8FF","#C3F8FF","#E8E8E8","#FFE6B4","#FFD2E8","#C6F4E4","#C1E8FF","#C2B6A4"],f=["/img/service1.png","/img/service2.png","/img/service3.png","/img/service4.png","/img/service5.png","/img/service6.png","/img/service7.png","/img/service8.png","/img/service9.png","/img/service10.png","/img/service11.png","/img/service12.png"],g=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],y="https://calendar.google.com/calendar/u/0/r/eventedit",x=[5,10,15,20,25]},8796:function(e,t,n){"use strict";n.d(t,{K:function(){return d}});var r=n(3827),i=n(64090),s=n(47001),a=n(3316),l=n(34870),o=n(15494);let c=(0,i.createContext)({}),d=()=>(0,i.useContext)(c);t.Z=e=>{let{defaultCurrency:t,settings:n,defaultLanguage:d,children:u,languages:p,currencies:v,defaultCountry:m}=e,f=(0,a.Z)(e=>e.selectedLanguage),g=(0,a.Z)(e=>e.selectedCurrency),y=(0,o.Z)(e=>e.country),x=(0,a.Z)(e=>e.updateSelectedLanguage),h=(0,a.Z)(e=>e.updateSelectedCurrency),b=(0,o.Z)(e=>e.updateCountry),j=(0,o.Z)(e=>e.updateCity),C=null==p?void 0:p.find(e=>e.id===(null==f?void 0:f.id)),N=null==v?void 0:v.find(e=>e.id===(null==g?void 0:g.id)),k={...n},w={latitude:s.RP.lat.toString(),longitude:s.RP.lng.toString()};if(null==n?void 0:n.location){let e=n.location.split(",");w.latitude=e[0].trim(),w.longitude=e[1].trim()}n&&(k.latitude=w.latitude,k.longitude=w.longitude),!(null==y?void 0:y.id)&&(null==m?void 0:m.id)&&(b(m),(null==m?void 0:m.city)&&j(m.city));let S=(0,i.useMemo)(()=>({defaultLanguage:d,defaultCurrency:t,settings:k}),[]);return(0,i.useEffect)(()=>{var e;C?x(C):x(void 0),(0,l.d8)("lang",(null==C?void 0:C.locale)||(null==d?void 0:d.locale)),N&&h(N),(0,l.d8)("currency_id",null!==(e=null==N?void 0:N.id)&&void 0!==e?e:null==t?void 0:t.id)},[]),(0,r.jsx)(c.Provider,{value:S,children:u})}},15494:function(e,t,n){"use strict";var r=n(22020),i=n(65249);let s=(0,r.Ue)()((0,i.tJ)(e=>({country:null,city:null,isCountrySelectModalOpen:!1,updateCountry:t=>e({country:t}),updateCity:t=>e({city:t}),deleteCountry:()=>e({country:null}),openCountrySelectModal:()=>e({isCountrySelectModalOpen:!0}),closeCountrySelectModal:()=>e({isCountrySelectModalOpen:!1})}),{name:"address"}));t.Z=s},3316:function(e,t,n){"use strict";var r=n(22020),i=n(65249);let s=(0,r.Ue)()((0,i.tJ)(e=>({updateSelectedCurrency:t=>e({selectedCurrency:t}),updateSelectedLanguage:t=>e({selectedLanguage:t}),updateSettings:t=>e({settings:t}),updateDefaultCurrency:t=>e({defaultCurrency:t})}),{name:"settings"}));t.Z=s},61916:function(e,t,n){"use strict";n.d(t,{E:function(){return a}});var r=n(22020),i=n(65249);let s=(0,r.Ue)()((0,i.tJ)(e=>({user:null,signIn:t=>e({user:t}),signOut:()=>e({user:null})}),{name:"user"})),a=s.setState;t.Z=s},23564:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var r=n(98313);let i=()=>{let{settings:e}=(0,r.r)();return{hourFormat:(null==e?void 0:e.hour_format)||"HH:mm"}}},98313:function(e,t,n){"use strict";n.d(t,{r:function(){return s}});var r=n(8796),i=n(3316);let s=()=>{let{defaultCurrency:e,defaultLanguage:t,settings:n}=(0,r.K)(),s=(0,i.Z)(e=>e.selectedCurrency);return{language:(0,i.Z)(e=>e.selectedLanguage)||t,currency:s||e,settings:n}}},31995:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(47001),i=n(34870);class s extends Error{constructor(e,t,n){super(e),this.message=e,this.statusCode=t,this.params=n,Object.setPrototypeOf(this,s.prototype)}}var a=n(47907),l=n(61916);let o=async(e,t)=>{let n="".concat(r._n).concat(Array.isArray(e)?e[0]:e),o=await fetch(n,{...t,headers:{Authorization:(0,i.ej)("token"),...null==t?void 0:t.headers}});if(!o.ok){let e=await o.json(),n=e.message;if(null==e?void 0:e.params){var c,d;n=null===(d=Object.values(e.params))||void 0===d?void 0:null===(c=d[0])||void 0===c?void 0:c[0]}if(401===o.status)return(0,l.E)({user:null}),(0,i.kT)("token"),(0,a.redirect)("/");if((null==t?void 0:t.redirectOnError)&&404===o.status)return(0,a.notFound)();throw new s(n,o.status,null==e?void 0:e.params)}return o.json()};var c=o;o.post=async(e,t)=>o(e,{...t,method:"POST",body:JSON.stringify(null==t?void 0:t.body),headers:{"Content-Type":"application/json"}}),o.put=async(e,t)=>o(e,{...t,method:"PUT",body:JSON.stringify(null==t?void 0:t.body),headers:{"Content-Type":"application/json"}}),o.delete=async(e,t)=>o(e,{...t,method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(null==t?void 0:t.body)})},56455:function(e,t,n){"use strict";n.d(t,{X:function(){return l}});var r=n(31995),i=n(68466),s=n(34870),a=n(47001);let l={create:async e=>r.Z.post("v1/dashboard/user/orders",{body:e}),paymentList:e=>(0,r.Z)((0,i.d)("v1/rest/payments",e)),deliveryPoints:e=>(0,r.Z)((0,i.d)("v1/rest/delivery-points",e)),createMembershipTransaction:(e,t)=>r.Z.post("v1/payments/member-ship/".concat(e,"/transactions"),{body:t}),createGiftCartTransaction:(e,t)=>r.Z.post("v1/payments/gift-cart/".concat(e,"/transactions"),{body:t}),checkCoupon:e=>r.Z.post((0,i.d)("v1/rest/coupons/check",e)),getAll:e=>(0,r.Z)((0,i.d)("v1/dashboard/user/orders/paginate",e)),get:(e,t)=>(0,r.Z)((0,i.d)("v1/dashboard/user/orders/".concat(e,"/get-all"),t),{redirectOnError:!0}),cancel:e=>r.Z.post("v1/dashboard/user/orders/".concat(e,"/status/change?status=canceled")),externalPayment:(e,t)=>r.Z.post((0,i.d)("v1/dashboard/user/".concat(e,"-process")),{body:t}),downloadInvoice:e=>fetch("".concat(a._n,"v1/dashboard/user/export/all/order/").concat(e,"/pdf"),{headers:{"Content-Type":"application/pdf",Authorization:(0,s.ej)("token")}}),rateDeliveryman:(e,t)=>r.Z.post("v1/dashboard/user/orders/deliveryman-review/".concat(e),{body:t})}},68466:function(e,t,n){"use strict";n.d(t,{d:function(){return r}});let r=(e,t)=>{let n=new URLSearchParams;return t&&Object.entries(t).forEach(e=>{let[t,r]=e;null!=r&&(Array.isArray(r)?r.forEach((e,r)=>{"object"==typeof e?Object.entries(e).forEach(e=>{let[i,s]=e;null!=s&&n.set("".concat(t,"[").concat(r,"][").concat(i,"]"),String(s))}):n.set("".concat(t,"[").concat(r,"]"),String(e))}):n.set(t,String(r)))}),"".concat(e).concat(n.toString()?"?".concat(n.toString()):"")}},16777:function(e,t,n){"use strict";n.d(t,{v:function(){return r}});let r=e=>null==e?void 0:e.reduce((e,t)=>e.concat(t.data),[])}},function(e){e.O(0,[2635,8381,1518,1749,4046,5250,4577,3056,2971,8069,1744],function(){return e(e.s=7224)}),_N_E=e.O()}]);