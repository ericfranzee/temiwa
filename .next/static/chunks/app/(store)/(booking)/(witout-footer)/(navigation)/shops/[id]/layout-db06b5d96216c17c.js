(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2315],{58774:function(e,r,a){Promise.resolve().then(a.bind(a,59212))},59212:function(e,r,a){"use strict";a.r(r),a.d(r,{useBooking:function(){return o}});var s=a(3827),i=a(64090),d=a(97864);let t={services:[],coupon:void 0,dateAndTimes:[]},E=(0,i.createContext)({state:t,dispatch:()=>null});r.default=e=>{let{children:r}=e,[a,o]=(0,i.useReducer)(d.n,t),n=(0,i.useMemo)(()=>({state:a,dispatch:o}),[a]);return(0,s.jsx)(E.Provider,{value:n,children:r})};let o=()=>{let e=(0,i.useContext)(E);if(!e)throw Error("useBooking has to be used within <Booking.Provider>");return e}},97864:function(e,r,a){"use strict";var s,i;a.d(r,{Y:function(){return s},n:function(){return d}}),(i=s||(s={})).SelectService="SELECT_SERVICE",i.UpdateService="UPDATE_SERVICE",i.UnselectService="UNSELECT_SERVICE",i.SelectMasterForService="SELECT_MASTER_FOR_SERVICE",i.SetDate="SET_DATE",i.SetTime="SET_TIME",i.SetDateTime="SET_DATE_TIME",i.ClearDateTime="CLEAR_DATE_TIME",i.SetNote="SET_NOTE",i.SetPayment="SET_PAYMENT",i.SetMaster="SET_MASTER",i.UnSetMaster="UNSET_MASTER",i.UpdateAddress="UPDATE_ADDRESS",i.ResetBooking="RESET_BOOKING",i.SelectMembership="SELECT_MEMBERSHIP",i.DeleteMemberShip="DELETE_MEMBERSHIP",i.SetOnlyMaster="SET_ONLY_MASTER",i.SelectGiftCart="SELECT_GIFT_CART",i.DeleteGiftCart="DELETE_GIFT_CART",i.DeletePayment="DELETE_PAYMENT",i.DeleteNotes="DELETE_NOTES",i.DeleteAddress="DELETE_ADDRESS",i.SelectPurchaseGiftCard="SELECT_PURCHASE_GIFTCARD",i.UpdateCoupon="UPDATE_COUPON",i.UnsupportedMastersByServices="UNSUPPORTED_MASTERS_BY_SERVICES",i.DeleteUnsupportedMastersByServices="DELETE_UNSUPPORTED_MASTERS_BY_SERVICES",i.SetExtraAddress="SET_EXTERNAL_ADDRESS";let d=(e,r)=>{var a,s,i,d;switch(r.type){case"SELECT_SERVICE":return{...e,services:e.services.find(e=>e.id===r.payload.id)?e.services.filter(e=>e.id!==r.payload.id):[...e.services,r.payload]};case"UPDATE_SERVICE":return{...e,services:e.services.map(e=>e.id===r.payload.id?r.payload:e)};case"UNSELECT_SERVICE":return{...e,services:e.services.filter(e=>e.id!==r.payload)};case"SELECT_MASTER_FOR_SERVICE":return{...e,services:e.services.map(e=>e.id===r.payload.serviceId?{...e,master:r.payload.master}:e)};case"SET_DATE":return{...e,date:r.payload};case"SET_TIME":return{...e,time:r.payload};case"SET_DATE_TIME":return{...e,dateAndTimes:(null===(i=e.dateAndTimes)||void 0===i?void 0:i.find(e=>e.serviceMasterId===r.payload.serviceMasterId))?null===(d=e.dateAndTimes)||void 0===d?void 0:d.map(e=>e.serviceMasterId===r.payload.serviceMasterId?{...e,date:r.payload.date,time:r.payload.time}:e):[...e.dateAndTimes,{serviceMasterId:r.payload.serviceMasterId,date:r.payload.date,time:r.payload.time}],date:r.payload.date,time:r.payload.time};case"CLEAR_DATE_TIME":return{...e,date:void 0,time:void 0,dateAndTimes:null===(a=e.dateAndTimes)||void 0===a?void 0:a.filter(e=>e.serviceMasterId!==r.payload.serviceMasterId)};case"SET_NOTE":return{...e,services:e.services.map(e=>e.id===r.payload.serviceId?{...e,note:r.payload.note}:e)};case"SET_PAYMENT":return{...e,payment:r.payload};case"SET_MASTER":return{...e,master:r.payload,services:[],time:void 0,date:void 0,payment:void 0,address:void 0};case"SET_ONLY_MASTER":return{...e,master:r.payload.master,services:e.services.map(e=>{var a,s,i,d,t,E,o,n,v,l,c,S,T;return{...e,master:r.payload.master.service_master&&r.payload.serviceMasterInfo?{...r.payload.master,service_master:{...null===(a=r.payload.master)||void 0===a?void 0:a.service_master,price:(null===(i=r.payload.serviceMasterInfo)||void 0===i?void 0:null===(s=i.find(r=>(null==r?void 0:r.service_id)===e.id))||void 0===s?void 0:s.price)||(null===(t=r.payload.master)||void 0===t?void 0:null===(d=t.service_master)||void 0===d?void 0:d.price),interval:(null===(o=r.payload.serviceMasterInfo)||void 0===o?void 0:null===(E=o.find(r=>(null==r?void 0:r.service_id)===e.id))||void 0===E?void 0:E.interval)||(null===(v=r.payload.master)||void 0===v?void 0:null===(n=v.service_master)||void 0===n?void 0:n.interval),id:(null===(c=r.payload.serviceMasterInfo)||void 0===c?void 0:null===(l=c.find(r=>r.service_id===e.id))||void 0===l?void 0:l.id)||(null===(T=r.payload.master)||void 0===T?void 0:null===(S=T.service_master)||void 0===S?void 0:S.id)}}:r.payload.master}})};case"UNSET_MASTER":return{...e,master:void 0,services:e.services.map(e=>({...e,master:void 0}))};case"UNSUPPORTED_MASTERS_BY_SERVICES":return{...e,unsupportedMastersByServices:(null==e?void 0:null===(s=e.unsupportedMastersByServices)||void 0===s?void 0:s.length)?[...e.unsupportedMastersByServices,r.payload]:[r.payload]};case"DELETE_UNSUPPORTED_MASTERS_BY_SERVICES":return{...e,unsupportedMastersByServices:void 0};case"UPDATE_ADDRESS":return{...e,address:r.payload};case"RESET_BOOKING":return{services:[],coupon:void 0,dateAndTimes:[]};case"SELECT_MEMBERSHIP":return{...e,services:e.services.map(e=>e.id===r.payload.serviceId?{...e,membership:r.payload.membership,userMemberShipId:r.payload.userMembershipId}:e)};case"DELETE_MEMBERSHIP":return{...e,services:e.services.map(e=>e.id===r.payload?{...e,membership:void 0,userMemberShipId:void 0}:e)};case"SELECT_GIFT_CART":return{...e,giftCart:r.payload};case"SELECT_PURCHASE_GIFTCARD":return{...e,giftCardForPurchase:r.payload};case"DELETE_GIFT_CART":return{...e,giftCart:void 0};case"DELETE_PAYMENT":return{...e,payment:void 0};case"DELETE_ADDRESS":return{...e,address:void 0};case"DELETE_NOTES":return{...e,services:e.services.map(e=>({...e,note:void 0,membership:void 0}))};case"UPDATE_COUPON":return{...e,coupon:r.payload.name};case"SET_EXTERNAL_ADDRESS":return{...e,extraAddress:r.payload};default:return e}}}},function(e){e.O(0,[2971,8069,1744],function(){return e(e.s=58774)}),_N_E=e.O()}]);