(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6986],{4849:function(e,t,s){Promise.resolve().then(s.bind(s,10266)),Promise.resolve().then(s.bind(s,91927)),Promise.resolve().then(s.bind(s,77383)),Promise.resolve().then(s.bind(s,19721))},10266:function(e,t,s){"use strict";s.r(t),s.d(t,{StaffDetail:function(){return g}});var l=s(3827),r=s(9988),i=s(21189),a=s(32635),n=s(12694),d=()=>(0,l.jsx)("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M5.72104 1.46211L6.45437 2.92878C6.55437 3.13294 6.82104 3.32878 7.04604 3.36628L8.37521 3.58711C9.22521 3.72878 9.42521 4.34544 8.81271 4.95378L7.77937 5.98711C7.60437 6.16211 7.50854 6.49961 7.56271 6.74128L7.85854 8.02044C8.09187 9.03294 7.55437 9.42461 6.65854 8.89544L5.41271 8.15794C5.18771 8.02461 4.81687 8.02461 4.58771 8.15794L3.34187 8.89544C2.45021 9.42461 1.90854 9.02878 2.14187 8.02044L2.43771 6.74128C2.49187 6.49961 2.39604 6.16211 2.22104 5.98711L1.18771 4.95378C0.579373 4.34544 0.775206 3.72878 1.62521 3.58711L2.95437 3.36628C3.17521 3.32878 3.44187 3.13294 3.54187 2.92878L4.27521 1.46211C4.67521 0.666276 5.32521 0.666276 5.72104 1.46211Z",stroke:"#080210",strokeLinecap:"round",strokeLinejoin:"round"})}),o=s(81658),c=s(47907),m=s(98313),u=s(86926),h=s(97864),x=s(89539),f=s.n(x),v=s(4071);let g=e=>{var t,s;let{id:x}=e,{t:g}=(0,a.$G)(),p=(0,c.useSearchParams)(),{language:j,currency:w}=(0,m.r)(),{dispatch:b}=(0,u.v)(),{data:y,isLoading:k}=(0,r.a)(["staff",x,null==j?void 0:j.locale,null==w?void 0:w.id],()=>i.L.getById(x,{lang:null==j?void 0:j.locale,currency_id:null==w?void 0:w.id}),{enabled:!!x,onSuccess:e=>{b({type:h.Y.SetMaster,payload:e.data})}}),N=null!==(s=p.get("serviceMasterId"))&&void 0!==s?s:"",{data:L,isLoading:C,isError:M}=(0,r.a)(["times",N],()=>i.L.getTimes({service_master_ids:[N],start_date:f()().format("YYYY-MM-DD HH:mm")}),{enabled:!!N});return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center md:gap-7 gap-5 pb-7 mb-7 border-b border-gray-link flex-col md:flex-row",children:[(0,l.jsx)("div",{className:"relative h-[193px] sm:aspect-[220/193] w-full md:w-auto rounded-button overflow-hidden border border-gray-link",children:k?(0,l.jsx)("div",{className:"bg-gray-300 h-full w-full animate-pulse"}):(0,l.jsx)(o.I,{src:(null==y?void 0:y.data.img)||"",alt:(null==y?void 0:y.data.firstname)||"user",fill:!0,className:"object-cover"})}),(0,l.jsxs)("div",{className:"flex-1 w-full md:w-auto",children:[(0,l.jsxs)("div",{className:"flex items-center flex-1 justify-between pb-3 border-b border-gray-link",children:[k?(0,l.jsx)("div",{className:"h-5 w-3/5 rounded-full bg-gray-300"}):(0,l.jsxs)("div",{children:[(0,l.jsxs)("h1",{className:"text-xl font-semibold",children:[null==y?void 0:y.data.firstname," ",null==y?void 0:y.data.lastname]}),(0,l.jsx)("span",{className:"text-sm text-dark text-opacity-50",children:null==y?void 0:y.data.role})]}),k?(0,l.jsx)("div",{className:"h-4 w-1/5 rounded-full bg-gray-300"}):(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm",children:g("starting.from")}),(0,l.jsx)("strong",{className:"text-xl font-bold",children:(0,l.jsx)(n.t,{number:null==y?void 0:y.data.service_min_price})})]})]}),(0,l.jsx)("div",{className:"grid sm:grid-cols-2 grid-cols-1 gap-x-7 gap-y-2.5 py-3",children:k?Array.from(Array(6).keys()).map(e=>(0,l.jsx)("div",{className:"bg-gray-300 h-4 w-3/5 rounded-full"},e)):null==y?void 0:null===(t=y.data.service_masters)||void 0===t?void 0:t.map(e=>{var t,s;return(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(d,{}),(0,l.jsx)("span",{className:"text-base",children:null===(s=e.service)||void 0===s?void 0:null===(t=s.translation)||void 0===t?void 0:t.title})]},e.id)})})]})]}),(0,l.jsx)(v.f,{isError:M,isLoading:C,data:null==L?void 0:L.data[0].times,withBorder:!1,serviceMasterId:Number(N),master:null==y?void 0:y.data})]})}},4071:function(e,t,s){"use strict";s.d(t,{f:function(){return M}});var l=s(3827),r=s(96107),i=s(64090),a=s(34734),n=s(70577),d=s(72001),o=s(86926),c=s(89539),m=s.n(c),u=s(97864),h=s(26463),x=s(44158),f=s.n(x),v=s(24232),g=s(32635),p=s(24228),j=s(47907),w=s(77618),b=s.n(w),y=s(45943),k=s(20703),N=s(23564);m().extend(b());let L=(0,v.default)(()=>s.e(3529).then(s.bind(s,75414)),{loadableGenerated:{webpack:()=>[75414]}}),C=e=>{let{displayMonth:t}=e,{goToMonth:s,nextMonth:r,previousMonth:i}=(0,h.HJ)();return(0,l.jsxs)("div",{className:"flex items-center justify-evenly",children:[(0,l.jsx)(n.h,{disabled:!i,onClick:()=>i&&s(i),children:(0,l.jsx)("span",{className:"text-gray-field",children:(0,l.jsx)(d.Z,{size:16})})}),(0,l.jsx)("span",{className:"text-sm font-semibold",children:m()(t).format("MMMM YYYY")}),(0,l.jsx)(n.h,{disabled:!r,onClick:()=>r&&s(r),children:(0,l.jsx)("span",{className:"text-gray-field",children:(0,l.jsx)(d.Z,{size:16,style:{rotate:"180deg"}})})})]})},M=e=>{var t,s;let{serviceMasterId:n,withBorder:d=!0,shopSlug:c,data:x,isLoading:v,isError:w,master:b}=e,M=(0,j.useRouter)(),{t:_}=(0,g.$G)(),{hourFormat:D}=(0,N.L)(),[E,S]=(0,i.useState)(new Date),[Z,B]=(0,i.useState)(new Date),{state:Y,dispatch:A}=(0,o.v)(),[z,H]=(0,i.useState)(!1),I=null==x?void 0:x.find(e=>m()(e.date).isSame(E,"date")),F=m()().isSame(null==I?void 0:I.date,"date")?null==I?void 0:I.times.filter(e=>m()(e,"HH:mm").isAfter()):null==I?void 0:I.times,P=(null==x?void 0:x.filter(e=>e.closed).map(e=>m()(e.date).toDate()))||[],G=e=>{A({type:u.Y.SetDateTime,payload:{date:(null==E?void 0:E.toString())||new Date().toString(),time:e,serviceMasterId:n}})},W=e=>{S(e),B(e),H(e=>!e)},O=null===(s=Y.dateAndTimes)||void 0===s?void 0:null===(t=s.find(e=>e.serviceMasterId===n))||void 0===t?void 0:t.time,T=Y.services.map(e=>e.master);return(0,i.useEffect)(()=>{0===T.length&&!n&&c&&M.replace("/shops/".concat(c,"/booking"))},[n,T.length,c]),(0,l.jsxs)("div",{className:(0,a.Z)(" lg:col-span-2 ",d&&"lg:border border-gray-link rounded-button lg:py-6 lg:px-5"),children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold",children:(0,l.jsx)(r.v,{value:"select.date.time"})}),b&&(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("div",{className:"w-14 h-14 relative",children:(0,l.jsx)(k.default,{src:(null==b?void 0:b.img)||"",alt:(null==b?void 0:b.firstname)||"master",className:"rounded-full object-cover",fill:!0})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-xl font-medium",children:[null==b?void 0:b.firstname," ",null==b?void 0:b.lastname]}),(0,l.jsx)("span",{className:"text-gray-field text-base font-semibold",children:_("master")})]})]})]}),(0,l.jsxs)("div",{className:"grid md:grid-cols-3 grid-cols-1 mt-6 lg:gap-x-7 gap-y-7",children:[(0,l.jsx)("div",{className:"lg:border border-gray-link rounded-button col-span-2 lg:p-4",children:(0,l.jsx)(h._W,{month:Z,onMonthChange:e=>B(e),mode:"single",selected:E,onSelect:e=>{S(e),A({type:u.Y.ClearDateTime,payload:{serviceMasterId:n}})},components:{Caption:C},disabled:[...P,{before:new Date}],classNames:{head:"text-gray-field text-xs font-medium tracking-widest",day:"text-base h-full rounded-full  aspect-square w-full",day_selected:"!bg-dark !text-white hover:!!bg-dark",table:"w-full max-w-none",month:"flex-1",head_cell:"py-7 font-medium",cell:"aspect-square h-full rounded-full "}},z.toString())}),(0,l.jsx)("div",{className:"border border-gray-link rounded-button py-6 px-5 ",children:(()=>{let e=m()(E).isSame(new Date,"day")?new Date:E,t=null==x?void 0:x.find(t=>t.times.some(s=>s&&m()("".concat(t.date," ").concat(s),"YYYY-MM-DD HH:mm").isAfter(e))),s=m()(null==t?void 0:t.date).toDate();return v?(0,l.jsx)("div",{className:"flex gap-2.5 flex-wrap overflow-y-auto md:max-h-[440px] animate-pulse",children:Array.from(Array(20).keys()).map(e=>(0,l.jsx)("div",{className:"rounded-button bg-gray-300 h-10 w-20"},e))}):w?(0,l.jsx)("div",{className:"flex items-center h-full w-full justify-center",children:(0,l.jsx)(L,{})}):F&&F.length>0?(0,l.jsx)("div",{className:"flex gap-2.5 flex-wrap overflow-y-auto md:max-h-[440px]",children:F.map(e=>(0,l.jsx)("button",{className:(0,a.Z)("text-sm py-2.5 px-5 rounded-button border border-dark hover:text-white hover:bg-primary transition-all hover:border-transparent",O===e&&"text-white bg-primary border-transparent"),onClick:()=>G(e),children:m()(e,"HH:mm").format(D)},e))}):(null==I?void 0:I.closed)?(0,l.jsxs)("div",{className:"flex items-center justify-center flex-col h-full gap-3",children:[(0,l.jsx)(p.Z,{size:40}),(0,l.jsx)("span",{className:"text-sm font-medium",children:_("shop.is.closed")}),t&&(0,l.jsx)("div",{className:"flex justify-center mt-7",children:(0,l.jsxs)(y.z,{onClick:()=>W(s),color:"black",size:"medium",children:[_("go.to")," ",m()(s).format("MMM DD")]})})]}):(0,l.jsxs)("div",{className:"flex items-center justify-center flex-col h-full gap-3",children:[(0,l.jsx)(f(),{size:40}),(0,l.jsx)("span",{className:"text-sm font-medium",children:_("no.available.slots")}),t&&(0,l.jsx)("div",{className:"flex justify-center mt-7",children:(0,l.jsxs)(y.z,{onClick:()=>W(s),color:"black",size:"medium",children:[_("go.to")," ",m()(s).format("MMM DD")]})})]})})()})]})]})}},72001:function(e,t,s){"use strict";var l=s(3827);s(64090),t.Z=e=>{let{size:t,...s}=e;return(0,l.jsx)("svg",{width:t||"30",height:t||"30",...s,viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M17.5 9.375C17.5 9.375 12.5 14.375 12.5 15C12.5 15.625 17.5 20.625 17.5 20.625",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}},24228:function(e,t,s){"use strict";var l=s(3827);s(64090),t.Z=e=>{let{size:t,...s}=e;return(0,l.jsxs)("svg",{width:t||"30",height:t||"30",...s,viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("g",{clipPath:"url(#clip0_1_7002)",children:(0,l.jsx)("path",{d:"M14.9999 13.2324L21.1874 7.04492L22.9549 8.81242L16.7674 14.9999L22.9549 21.1874L21.1874 22.9549L14.9999 16.7674L8.81242 22.9549L7.04492 21.1874L13.2324 14.9999L7.04492 8.81242L8.81242 7.04492L14.9999 13.2324Z",fill:"currentColor"})}),(0,l.jsx)("defs",{children:(0,l.jsx)("clipPath",{id:"clip0_1_7002",children:(0,l.jsx)("rect",{width:"30",height:"30",fill:"white"})})})]})}},2225:function(e,t,s){"use strict";var l=s(3827);t.Z=e=>{let{size:t=20}=e;return(0,l.jsx)("svg",{viewBox:"0 0 24 24","aria-hidden":"true","data-testid":"verificationBadge",version:"1.1",id:"svg965",xmlns:"http://www.w3.org/2000/svg",fill:"#fff",width:t,height:t,children:(0,l.jsx)("g",{id:"g963",children:(0,l.jsx)("path",{d:"M22.25 12c0-1.43-.88-2.67-2.19-3.34.46-1.39.2-2.9-.81-3.91s-2.52-1.27-3.91-.81c-.66-1.31-1.91-2.19-3.34-2.19s-2.67.88-3.33 2.19c-1.4-.46-2.91-.2-3.92.81s-1.26 2.52-.8 3.91c-1.31.67-2.2 1.91-2.2 3.34s.89 2.67 2.2 3.34c-.46 1.39-.21 2.9.8 3.91s2.52 1.26 3.91.81c.67 1.31 1.91 2.19 3.34 2.19s2.68-.88 3.34-2.19c1.39.45 2.9.2 3.91-.81s1.27-2.52.81-3.91c1.31-.67 2.19-1.91 2.19-3.34zm-11.71 4.2L6.8 12.46l1.41-1.42 2.26 2.26 4.8-5.23 1.47 1.36-6.2 6.77z",id:"path961",fill:"#42A5F5"})})})}},77383:function(e,t,s){"use strict";s.r(t),s.d(t,{BackButton:function(){return n}});var l=s(3827),r=s(47907);s(64090);var i=s(32635),a=()=>(0,l.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M9.57 5.93018L3.5 12.0002L9.57 18.0702",stroke:"currentColor",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M20.4999 12H3.66992",stroke:"currentColor",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})]});let n=e=>{let{title:t="back",onClick:s}=e,{t:n}=(0,i.$G)(),d=(0,r.useRouter)();return(0,l.jsxs)("button",{onClick:()=>{d.back(),s&&s()},className:"md:text-[22px] text-lg font-semibold flex items-center focus-ring outline-none rtl:flex-row-reverse gap-2.5",children:[(0,l.jsx)(a,{}),n(t)]})}},16603:function(e,t,s){"use strict";s.r(t),s.d(t,{ImageWithFallBack:function(){return o}});var l=s(3827),r=s(20703),i=s(64090),a=s(91774);let n=e=>'\n<svg width="100%" height="100%" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n  <defs>\n    <linearGradient id="g">\n      <stop \n      stop-color="'.concat(e?"#383838":"#E2E2E2",'" offset="20%" />\n      <stop stop-color="').concat(e?"#A0A09C":"#F6F6F6",'" offset="50%" />\n<stop stop-color="').concat(e?"#383838":"#E2E2E2",'" offset="70%" />\n</linearGradient>\n</defs>\n      <rect width="100%" height="100%" fill="').concat(e?"#383838":"#E2E2E2",'" />\n      <rect id="r" width="100%" height="100%" fill="url(#g)" />\n      <animate xlink:href="#r" attributeName="x" from="-100%" to="100%" dur="1s" repeatCount="indefinite"  />\n</svg>'),d=e=>window.btoa(e),o=e=>{let{src:t,loader:s,...o}=e,[c,m]=(0,i.useState)(!1),{theme:u}=(0,a.F)();return(0,l.jsx)(r.default,{...o,loader:c?void 0:s,src:c?"/img/image-load-failed.png":t,placeholder:"data:image/svg+xml;base64,".concat(d(n("dark"===u))),onError:()=>{m(!0)}})}},81658:function(e,t,s){"use strict";s.d(t,{I:function(){return l.ImageWithFallBack}});var l=s(16603)},26936:function(e,t,s){"use strict";s.d(t,{m:function(){return i}});var l=s(31995),r=s(68466);let i={getAll:e=>(0,l.Z)((0,r.d)("v1/rest/shops/paginate",e)),create:e=>l.Z.post("v1/dashboard/user/shops",{body:e}),getById:(e,t)=>(0,l.Z)((0,r.d)("v1/rest/shops/".concat(e),t),{cache:"no-cache",redirectOnError:!0}),getBySlug:(e,t)=>(0,l.Z)((0,r.d)("v1/rest/shops/slug/".concat(e),t),{cache:"no-store",redirectOnError:!0}),gellery:e=>(0,l.Z)("v1/rest/shops/slug/".concat(e,"/galleries"),{redirectOnError:!0}),getByIds:e=>(0,l.Z)((0,r.d)("v1/rest/shops/paginate",e)),getAllTags:e=>(0,l.Z)((0,r.d)("v1/rest/shops-takes",e)),getShopFilters:()=>(0,l.Z)("v1/rest/shop-filter")}}},function(e){e.O(0,[1936,2635,8381,1518,1749,4046,3615,1143,6235,8112,1817,8820,7621,2971,8069,1744],function(){return e(e.s=4849)}),_N_E=e.O()}]);