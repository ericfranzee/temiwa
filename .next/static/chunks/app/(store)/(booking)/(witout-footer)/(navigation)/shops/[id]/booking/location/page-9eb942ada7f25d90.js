(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3943,6796],{49508:function(e,l,t){Promise.resolve().then(t.bind(t,41556)),Promise.resolve().then(t.bind(t,77027)),Promise.resolve().then(t.bind(t,83905)),Promise.resolve().then(t.bind(t,35559)),Promise.resolve().then(t.bind(t,46941))},77027:function(e,l,t){"use strict";t.r(l),t.d(l,{ExtraAddressForm:function(){return m}});var r=t(3827),s=t(4798),i=t(55826),n=t(97864);t(64090);var o=t(32635),a=t(15494),d=t(86926),u=t(61916),c=t(41991),p=t(82670),h=t(87957),v=t(47907);let g=c.object({firstname:c.string().required().max(255),lastname:c.string().required().max(255),phone:c.string().required().max(255),zipcode:c.string().required().max(255),street_house_number:c.string().required().max(255),additional_details:c.string().max(255)}).required(),m=e=>{var l,t,c,m,x,f,b,j,A,_,y,C,w;let{shopSlug:N}=e,k=(0,v.useRouter)(),S=(0,v.useSearchParams)(),{t:P}=(0,o.$G)(),{state:L,dispatch:Z}=(0,d.v)(),z=(0,a.Z)(e=>e.country),B=(0,u.Z)(e=>e.user),E=null!==(b=L.extraAddress)&&void 0!==b?b:{},{register:V,handleSubmit:I,formState:{errors:M},setValue:R,watch:T}=(0,p.cI)({resolver:(0,h.X)(g),defaultValues:{firstname:null!==(j=E.firstname)&&void 0!==j?j:null==B?void 0:B.firstname,lastname:null!==(A=E.lastname)&&void 0!==A?A:null==B?void 0:B.lastname,zipcode:null!==(_=E.zipcode)&&void 0!==_?_:"",additional_details:null!==(y=E.additional_details)&&void 0!==y?y:"",phone:null!==(C=E.phone)&&void 0!==C?C:null==B?void 0:B.phone,street_house_number:null!==(w=E.street_house_number)&&void 0!==w?w:""}});return(0,r.jsx)("form",{id:"external-address-form",onSubmit:I(e=>{Z({type:n.Y.SetExtraAddress,payload:e}),k.push("/shops/".concat(N,"/booking/note").concat(S.toString()?"?".concat(S.toString()):""))}),children:(0,r.jsxs)("div",{className:"grid grid-cols-4 gap-4 mt-3",children:[(0,r.jsx)("div",{className:"col-span-2",children:(0,r.jsx)(s.I,{fullWidth:!0,label:P("first.name"),...V("firstname"),error:null===(l=M.firstname)||void 0===l?void 0:l.message})}),(0,r.jsx)("div",{className:"col-span-2",children:(0,r.jsx)(s.I,{className:"h-full",fullWidth:!0,label:P("last.name"),...V("lastname"),error:null===(t=M.lastname)||void 0===t?void 0:t.message})}),(0,r.jsx)("div",{className:"col-span-2",children:(0,r.jsx)(i.s,{inputClass:"!py-[22px] !rounded-xl",country:null==z?void 0:z.code,onChange:e=>R("phone",e),value:T("phone"),error:null===(c=M.phone)||void 0===c?void 0:c.message})}),(0,r.jsx)("div",{className:"col-span-2",children:(0,r.jsx)(s.I,{className:"h-full",fullWidth:!0,label:P("zip.code"),type:"number",...V("zipcode"),error:null===(m=M.zipcode)||void 0===m?void 0:m.message})}),(0,r.jsx)("div",{className:"col-span-4",children:(0,r.jsx)(s.I,{fullWidth:!0,label:P("home.number"),required:!0,...V("street_house_number"),error:null===(x=M.street_house_number)||void 0===x?void 0:x.message})}),(0,r.jsx)("div",{className:"col-span-4",children:(0,r.jsx)(s.I,{fullWidth:!0,label:P("detail"),...V("additional_details"),error:null===(f=M.additional_details)||void 0===f?void 0:f.message})})]})})}},83905:function(e,l,t){"use strict";t.r(l),t.d(l,{LocationSelect:function(){return g}});var r=t(3827),s=t(86926),i=t(32635),n=t(97864),o=t(72020),a=t(4798),d=t(75718),u=t(64090),c=t(74067),p=t(98313),h=t(76833),v=t(47907);let g=e=>{var l,t,g;let{shopSlug:m}=e,x=(0,v.useRouter)(),{state:f,dispatch:b}=(0,s.v)(),{settings:j}=(0,p.r)(),A=(0,u.useRef)(null),[_,y]=(0,u.useState)(null),{t:C}=(0,i.$G)(),[w,N]=(0,u.useState)((null===(l=f.address)||void 0===l?void 0:l.address)||""),{mutate:k}=(0,h.B)();return(0,u.useEffect)(()=>{!f.time&&m&&x.replace("/shops/".concat(m,"/booking"))},[f.time,m]),(0,r.jsxs)("div",{className:"mt-6 flex flex-col gap-3",children:[_&&(0,r.jsx)(o.F2,{onLoad:e=>{A.current=e},onPlaceChanged:()=>{if(null!==A.current){var e,l,t,r;let s=A.current.getPlace();N((null==s?void 0:s.formatted_address)||""),b({type:n.Y.UpdateAddress,payload:{address:(null==s?void 0:s.formatted_address)||"",lat:(null==s?void 0:null===(l=s.geometry)||void 0===l?void 0:null===(e=l.location)||void 0===e?void 0:e.lat())||0,long:(null==s?void 0:null===(r=s.geometry)||void 0===r?void 0:null===(t=r.location)||void 0===t?void 0:t.lng())||0}})}},children:(0,r.jsx)(a.I,{label:C("address").toString(),value:w,onChange:e=>N(e.target.value),fullWidth:!0,required:!0})}),(0,r.jsx)(c.Map,{onLoad:e=>{y(e)},onClick:e=>{var l,t;k({lat:null===(l=e.latLng)||void 0===l?void 0:l.lat(),lng:null===(t=e.latLng)||void 0===t?void 0:t.lng()},{onSuccess:l=>{var t,r,s,i;N((null==l?void 0:null===(t=l.results[0])||void 0===t?void 0:t.formatted_address)||""),b({type:n.Y.UpdateAddress,payload:{address:(null==l?void 0:null===(r=l.results[0])||void 0===r?void 0:r.formatted_address)||"",lat:(null===(s=e.latLng)||void 0===s?void 0:s.lat())||0,long:(null===(i=e.latLng)||void 0===i?void 0:i.lng())||0}})}})},containerStyles:{height:"400px",borderRadius:"15px"},center:f.address?{lat:f.address.lat||Number(null==j?void 0:j.latitude),lng:f.address.long||Number(null==j?void 0:j.longitude)}:void 0,options:{zoomControl:!1,mapTypeControl:!1,streetViewControl:!1,minZoom:3},children:(0,r.jsx)(o.jC,{icon:d.Z.src,position:{lat:(null===(t=f.address)||void 0===t?void 0:t.lat)||Number(null==j?void 0:j.latitude),lng:(null===(g=f.address)||void 0===g?void 0:g.long)||Number(null==j?void 0:j.longitude)}})})]})}},11950:function(e,l,t){"use strict";var r=t(3827);t(64090),l.Z=e=>{let{size:l,...t}=e;return(0,r.jsxs)("svg",{width:l||"24",height:l||"24",...t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("g",{clipPath:"url(#clip0_1_9041)",children:(0,r.jsx)("path",{d:"M5 11H19V13H5V11Z",fill:"currentColor"})}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"clip0_1_9041",children:(0,r.jsx)("rect",{width:"24",height:"24",fill:"white"})})})]})}},99281:function(e,l,t){"use strict";var r=t(3827);t(64090),l.Z=e=>{let{size:l,...t}=e;return(0,r.jsxs)("svg",{width:l||"24",height:l||"24",...t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("g",{clipPath:"url(#clip0_1_10942)",children:(0,r.jsx)("path",{d:"M11 10.9999V4.99986H13V10.9999H19V12.9999H13V18.9999H11V12.9999H5V10.9999H11Z",fill:"currentColor"})}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"clip0_1_10942",children:(0,r.jsx)("rect",{width:"24",height:"24",fill:"currentColor"})})})]})}},4798:function(e,l,t){"use strict";t.d(l,{I:function(){return a}});var r=t(3827),s=t(34734),i=t(64090),n=t(32635),o=t(70577);let a=(0,i.forwardRef)((e,l)=>{let{fullWidth:t,label:a,type:d,className:u,error:c,rightIcon:p,status:h="default",autoComplete:v,placeholder:g,leftIcon:m,containerClassName:x,required:f,disabled:b,id:j,...A}=e,[_,y]=(0,i.useState)(d||"text"),{t:C}=(0,n.$G)(),w=(0,i.useId)();return(0,r.jsxs)("div",{className:(0,s.Z)("relative flex flex-col items-start",t&&"w-full",x),children:[(0,r.jsxs)("div",{className:(0,s.Z)("relative",t&&"w-full"),children:[(0,r.jsx)("input",{ref:l,id:w,type:_,autoComplete:"off",placeholder:" ",disabled:b,...A,className:(0,s.Z)("block px-4 w-full text-sm  bg-transparent rounded-button border appearance-none focus:outline-none focus:ring-0  peer ",t&&"w-full",!!p&&"pr-8",!!m&&"pl-10",a?"pt-4 pb-[12px]":"py-[19px]","default"===h&&"border-gray-link focus-visible:border-primary","error"===h&&"border-badge-product focus-visible:border-red-700","success"===h&&"border-green-500 focus-visible:border-red-700",b&&"text-gray-field",u)}),"password"===d&&(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 z-10",children:(0,r.jsx)(o.h,{rounded:!0,type:"button",onClick:()=>{"password"===_?y("text"):y("password")},children:"password"===_?(0,r.jsx)("i",{className:"ri-eye-line"}):(0,r.jsx)("i",{className:"ri-eye-close-line"})})}),!!m&&(0,r.jsx)("div",{className:"absolute inset-y-0 left-3 flex items-center pr-3 z-[4]",children:m}),!!p&&(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-1.5 z-[4]",children:p}),(0,r.jsxs)("label",{htmlFor:w,className:(0,s.Z)("absolute text-sm text-gray-placeholder duration-300 transform -translate-y-3 scale-75 top-3.5 origin-[0] peer-focus:text-black dark:peer-focus:text-white peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-3.5",m?"left-10 rtl:right-10 rtl:left-auto":"left-4 rtl:right-0 rtl:left-auto",b&&"text-gray-field"),children:[a,f&&"*"]})]}),c&&(0,r.jsx)("p",{role:"alert",className:"text-red text-sm mt-1",children:C(c)})]})})},74067:function(e,l,t){"use strict";t.r(l),t.d(l,{Map:function(){return g}});var r=t(3827),s=t(64090),i=t(72020),n=t(47001),o=t(70577),a=()=>(0,r.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("g",{clipPath:"url(#clip0_1_6300)",children:(0,r.jsx)("path",{d:"M3.38325 2.68329L25.3224 9.99595C25.436 10.0336 25.5352 10.1052 25.6067 10.2012C25.6781 10.2971 25.7184 10.4127 25.722 10.5323C25.7255 10.6519 25.6922 10.7696 25.6266 10.8697C25.561 10.9697 25.4662 11.0471 25.3551 11.0915L15.1666 15.1666L10.0041 25.4916C9.95155 25.5968 9.86848 25.6836 9.76576 25.7407C9.66304 25.7978 9.54547 25.8226 9.42844 25.8117C9.3114 25.8009 9.20038 25.7549 9.10991 25.6799C9.01943 25.6049 8.95373 25.5043 8.92142 25.3913L2.63658 3.39612C2.60747 3.29394 2.60682 3.18574 2.6347 3.08322C2.66258 2.98069 2.71793 2.88773 2.79478 2.81436C2.87163 2.74099 2.96706 2.69001 3.07077 2.66691C3.17448 2.64381 3.28252 2.64947 3.38325 2.68329Z",fill:"black"})}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"clip0_1_6300",children:(0,r.jsx)("rect",{width:"28",height:"28",fill:"white"})})})]}),d=t(54965),u=t(98313),c=t(99281),p=t(11950),h=t(49079);let v=["places"],g=(0,s.memo)(e=>{let{center:l,containerStyles:t,children:g,zoom:m=9,options:x,onClick:f,onLoad:b,onCenterChange:j,findMyLocation:A=!0}=e,{settings:_}=(0,u.r)(),y=n.RP;if(null==_?void 0:_.location){let e=_.location.split(",");y={lat:Number(e[0]),lng:Number(e[1])}}l&&(y=l);let[C,w]=(0,s.useState)(y),[N,k]=(0,s.useState)(m),{isLoaded:S}=(0,i.Ji)({id:"google-map-script",googleMapsApiKey:(null==_?void 0:_.google_map_key)||h.env.NEXT_PUBLIC_GOOGLE_MAPS_KEY,libraries:v});return S?(0,r.jsxs)(i.b6,{mapContainerStyle:t,center:C,onLoad:b,mapContainerClassName:"!font-sans",zoom:N,options:x,onClick:f,onCenterChanged:j,children:[g,A&&(0,r.jsxs)("div",{className:"absolute bottom-5 right-5 flex flex-col gap-3",children:[(0,r.jsxs)("div",{className:"flex flex-col bg-white rounded-[5px] items-center",children:[(0,r.jsx)(o.h,{onClick:()=>k(e=>e<15?e+1:e),type:"button",size:"large",children:(0,r.jsx)(c.Z,{})}),(0,r.jsx)("div",{className:"h-px bg-footerBg w-10/12 bg-opacity-20"}),(0,r.jsx)(o.h,{onClick:()=>k(e=>e>2?e-1:e),type:"button",size:"large",children:(0,r.jsx)(p.Z,{})})]}),(0,r.jsx)(o.h,{type:"button",onClick:()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>{w({lat:e.coords.latitude,lng:e.coords.longitude}),k(14)})},size:"large",color:"white",children:(0,r.jsx)(a,{})})]})]}):(0,r.jsx)(d.W,{})})},55826:function(e,l,t){"use strict";t.d(l,{s:function(){return d}});var r=t(3827),s=t(20167),i=t.n(s);t(40561);var n=t(34734),o=t(64090),a=t(32635);let d=e=>{let{status:l="default",error:t,inputClass:s,...d}=e,u=(0,o.useId)(),{t:c}=(0,a.$G)();return(0,r.jsxs)("div",{className:"relative",dir:"ltr",children:[(0,r.jsx)(i(),{...d,inputProps:{id:u},dropdownClass:"!rounded-2xl dark:!bg-dark",buttonClass:"!rouned-2xl !bg-transparent !border-none hover:!bg-transparent",inputClass:(0,n.Z)("block px-4 w-full !text-sm bg-transparent !rounded-2xl border appearance-none focus:outline-none focus:ring-0  peer !w-full",null!=s?s:"!py-[29px]","default"===l&&"!border-gray-inputBorder focus-visible:border-primary","error"===l&&"!border-badge-product focus-visible:border-red-700","success"===l&&"!border-green-500 focus-visible:border-red-700")}),t&&(0,r.jsx)("p",{role:"alert",className:"text-red text-sm mt-1",children:c(t)})]})}},76833:function(e,l,t){"use strict";t.d(l,{B:function(){return o}});var r=t(8186),s=t(68466),i=t(98313),n=t(49079);let o=()=>{let{settings:e}=(0,i.r)();return(0,r.D)({mutationFn:async l=>{let t={latlng:"".concat(null==l?void 0:l.lat,",").concat(null==l?void 0:l.lng),lang:"en",key:(null==e?void 0:e.google_map_key)?e.google_map_key:n.env.NEXT_PUBLIC_GOOGLE_MAPS_KEY};return fetch((0,s.d)("https://maps.googleapis.com/maps/api/geocode/json",t)).then(e=>e.json())}})}},75718:function(e,l){"use strict";l.Z={src:"/_next/static/media/pin.57fe8a31.png",height:60,width:47,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAICAMAAADtGH4KAAAAMFBMVEXIRybvTCDhTSLiUS/oTiP2yr7kTibpUijiUS7jTyXhUSjlTCPlTSP77ur2WS7zrZs1oGD7AAAADnRSTlMB/msRVvycPyyBitLA+fxxzRMAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAvSURBVHicNcTJEQAgCACxBQRv7L9bx4d5BEzVwGbmgpLbpVLTjzQIkQ4Q4/1pgQsbiwDGN1Mo/gAAAABJRU5ErkJggg==",blurWidth:6,blurHeight:8}}},function(e){e.O(0,[1910,2635,8381,1518,1749,4046,5250,3615,1143,1991,7957,6278,6235,843,2725,2407,648,2971,8069,1744],function(){return e(e.s=49508)}),_N_E=e.O()}]);