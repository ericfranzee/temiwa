"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1711],{36308:function(e,t,o){var r=o(3827);o(64090),t.Z=e=>{let{size:t,...o}=e;return(0,r.jsxs)("svg",{width:t||"16",height:t||"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,children:[(0,r.jsx)("g",{clipPath:"url(#clip0_1_12182)",children:(0,r.jsx)("path",{d:"M8.00002 0.333359L10.8174 4.45536L15.6087 5.86136L12.5587 9.81469L12.702 14.8054L8.00002 13.1267L3.29802 14.8054L3.44136 9.81469L0.391357 5.86136L5.18269 4.45536L8.00002 0.333359ZM6.66669 8.00002H5.33336C5.33335 8.69573 5.60522 9.36389 6.09096 9.86194C6.5767 10.36 7.23785 10.6485 7.93334 10.6659C8.62882 10.6833 9.30357 10.4282 9.81361 9.95507C10.3236 9.48192 10.6286 8.82819 10.6634 8.13336L10.6667 8.00002H9.33336C9.33491 8.34601 9.2019 8.67906 8.96244 8.92879C8.72298 9.17853 8.39581 9.3254 8.05007 9.33839C7.70432 9.35137 7.36706 9.22944 7.10955 8.99836C6.85203 8.76729 6.69443 8.44516 6.67002 8.10002L6.66669 8.00002Z",fill:"currentColor"})}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"clip0_1_12182",children:(0,r.jsx)("rect",{width:"16",height:"16",fill:"white"})})})]})}},77497:function(e,t,o){var r=o(3827);o(64090),t.Z=()=>(0,r.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("g",{clipPath:"url(#clip0_1_9030)",children:(0,r.jsx)("path",{d:"M14.1667 4.99984H18.3334V6.6665H16.6667V17.4998C16.6667 17.7209 16.579 17.9328 16.4227 18.0891C16.2664 18.2454 16.0544 18.3332 15.8334 18.3332H4.16675C3.94573 18.3332 3.73377 18.2454 3.57749 18.0891C3.42121 17.9328 3.33341 17.7209 3.33341 17.4998V6.6665H1.66675V4.99984H5.83342V2.49984C5.83342 2.27882 5.92121 2.06686 6.07749 1.91058C6.23377 1.7543 6.44573 1.6665 6.66675 1.6665H13.3334C13.5544 1.6665 13.7664 1.7543 13.9227 1.91058C14.079 2.06686 14.1667 2.27882 14.1667 2.49984V4.99984ZM15.0001 6.6665H5.00008V16.6665H15.0001V6.6665ZM7.50008 9.1665H9.16675V14.1665H7.50008V9.1665ZM10.8334 9.1665H12.5001V14.1665H10.8334V9.1665ZM7.50008 3.33317V4.99984H12.5001V3.33317H7.50008Z",fill:"currentColor"})}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"clip0_1_9030",children:(0,r.jsx)("rect",{width:"20",height:"20",fill:"white"})})})]})},31634:function(e,t,o){o.d(t,{U:function(){return s}});var r=o(3827),l=o(64090),n=o(32635),i=o(42776),a=o(85777);let s=e=>{let{onChange:t,type:o,children:s,previous:c,setIsImageUploading:d}=e,{t:u}=(0,n.$G)(),p=(0,l.useRef)(null),{mutate:v,isLoading:h}=(0,a.H)(),[f,m]=(0,l.useState)(c);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{ref:p,onChange:e=>{let{files:r}=e.target;if(null==r?void 0:r.length){let e=new FormData;[...r].forEach(t=>{t&&(m(URL.createObjectURL(t)),e.append("image",t,t.name))}),e.append("type",o),d&&d(!0),v(e,{onSuccess:e=>{t(e.data.title),m(e.data.title)},onError:()=>{(0,i.vU)(u("failed.to.upload"))},onSettled:()=>{d&&d(!1)}})}},type:"file",accept:"image/png, image/jpg, image/jpeg, image/webp",hidden:!0}),s({handleClick:()=>{var e;return null===(e=p.current)||void 0===e?void 0:e.click()},isLoading:h,preview:f,handleDelete:()=>{m(void 0),t("")}})]})}},1711:function(e,t,o){o.r(t),o.d(t,{DeliverymanReview:function(){return V}});var r=o(3827),l=o(8186),n=o(56455),i=o(32635),a=o(61916),s=o(82670),c=o(87957),d=o(28183),u=o(36308),p=o(43520),v=o(31634),h=o(30072),f=o(25178),m=o.n(f),g=o(20703),x=o(70577),y=o(77497),j=o(45943);o(64090);var b=o(41991),w=o(42776);let C=b.object({comment:b.string().required(),rating:b.number().required(),images:b.array().of(b.string().required())}),V=e=>{var t;let{id:o,onSuccess:f}=e,{mutate:b,isLoading:V}=(0,l.D)(e=>n.X.rateDeliveryman(o,e),{onError:e=>{(0,w.vU)(e.message)}}),{t:_}=(0,i.$G)(),k=(0,a.Z)(e=>e.user),{register:N,setValue:S,formState:{errors:L},watch:M,handleSubmit:H}=(0,s.cI)({resolver:(0,c.X)(C),defaultValues:{rating:0}});if(!k)return null;let G=e=>{var t;S("images",null===(t=M("images"))||void 0===t?void 0:t.filter((t,o)=>e!==o))};return(0,r.jsx)("form",{onSubmit:H(e=>{b(e,{onSuccess:()=>{f(),(0,w.Vp)(_("review.successfully.added"))}})}),children:(0,r.jsxs)("div",{className:"my-4 flex flex-col gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between border border-gray-border dark:border-gray-bold rounded-2xl p-5",children:[(0,r.jsxs)("span",{className:"text-sm font-medium",children:[_("your.rating")," - ",M("rating")||0," ",_("out.of")," 5"]}),(0,r.jsx)(d.i,{onClick:e=>{S("rating",e)},emptyStyle:{display:"flex",gap:"15px"},fillStyle:{display:"-webkit-inline-box",gap:"15px"},initialValue:0,fillIcon:(0,r.jsx)("div",{className:"text-yellow",children:(0,r.jsx)(u.Z,{size:25})}),emptyIcon:(0,r.jsx)(u.Z,{size:25})})]}),(0,r.jsx)(p.K,{...N("comment"),placeholder:_("comment"),rows:3,error:null===(t=L.comment)||void 0===t?void 0:t.message}),(0,r.jsx)(v.U,{onChange:e=>S("images",M("images")?[...M("images")||[],e]:[e]),type:h.X.REVIEW,children:e=>{var t;let{handleClick:o,isLoading:l}=e;return(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsxs)("button",{type:"button",onClick:o,className:"border-gray-inputBorder rounded-2xl hover:bg-gray-200 dark:hover:bg-gray-darkSegment md:aspect-[4/1] sm:aspect-[3/1] aspect-[2/1] border-dashed border flex items-center justify-center flex-col underline text-sm",children:[(0,r.jsx)(m(),{}),_("upload.review.photo")]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-4",children:[null===(t=M("images"))||void 0===t?void 0:t.map((e,t)=>(0,r.jsxs)("div",{className:"group relative rounded-md overflow-hidden",children:[(0,r.jsx)("div",{className:"aspect-square",children:(0,r.jsx)(g.default,{alt:e,src:e||"",fill:!0,className:"object-contain"})}),(0,r.jsx)("div",{className:"absolute select-none opacity-0 group-hover:select-all group-hover:opacity-100 group-hover:z-10 top-0 left-0  w-full h-full flex items-center justify-center group-hover:bg-black group-hover:bg-opacity-20",children:(0,r.jsx)(x.h,{color:"white",size:"small",onClick:()=>G(t),children:(0,r.jsx)(y.Z,{})})})]},e)),l&&(0,r.jsx)("div",{className:"aspect-square rounded-md bg-gray-200 animate-pulse"})]})]})}}),(0,r.jsx)(j.z,{loading:V,type:"submit",color:"black",children:_("send.review")})]})})}},43520:function(e,t,o){o.d(t,{K:function(){return i}});var r=o(3827),l=o(64090),n=o(32635);let i=(0,l.forwardRef)((e,t)=>{let{error:o,icon:i,placeholder:a,required:s,...c}=e,{t:d}=(0,n.$G)(),u=(0,l.useId)();return(0,r.jsxs)("div",{className:"flex flex-col ",children:[(0,r.jsxs)("label",{htmlFor:u,className:"relative inline-flex gap-3",children:[(0,r.jsx)("div",{className:"absolute top-5 left-3",children:i}),(0,r.jsx)("textarea",{className:"form-textarea block bg-gray-faq w-full  focus:border-primary px-4 rounded-button border border-transparent py-3 outline-none  placeholder:text-text text-sm resize-none",ref:t,id:u,placeholder:"".concat(d(a||"")).concat(s?"*":""),...c})]}),!!o&&(0,r.jsx)("p",{role:"alert",className:"text-sm text-red mt-1",children:d(o)})]})})},85777:function(e,t,o){o.d(t,{H:function(){return n}});var r=o(8186),l=o(31995);let n=()=>(0,r.D)({mutationFn:e=>(0,l.Z)("v1/dashboard/galleries",{body:e,method:"POST"})})},28183:function(e,t,o){var r=o(3827),l=o(64090),n=function(){return(n=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var l in t=arguments[o])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)};function i(e,t,o){if(o||2==arguments.length)for(var r,l=0,n=t.length;l<n;l++)!r&&l in t||(r||(r=Array.prototype.slice.call(t,0,l)),r[l]=t[l]);return e.concat(r||Array.prototype.slice.call(t))}function a(e){var t=e.size,o=void 0===t?25:t,l=e.SVGstrokeColor,i=e.SVGstorkeWidth,a=e.SVGclassName,s=e.SVGstyle;return r.jsx("svg",n({className:void 0===a?"star-svg":a,style:s,stroke:void 0===l?"currentColor":l,fill:"currentColor",strokeWidth:void 0===i?0:i,viewBox:"0 0 24 24",width:o,height:o,xmlns:"http://www.w3.org/2000/svg"},{children:r.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})}))}function s(e,t){switch(t.type){case"PointerMove":return n(n({},e),{hoverValue:t.payload,hoverIndex:t.index});case"PointerLeave":return n(n({},e),{ratingValue:e.ratingValue,hoverIndex:0,hoverValue:null});case"MouseClick":return n(n({},e),{valueIndex:e.hoverIndex,ratingValue:t.payload});default:return e}}function c(){return window.matchMedia("(pointer: coarse)").matches||"ontouchstart"in window||"undefined"!=typeof navigator&&navigator.maxTouchPoints>0}!function(e,t){void 0===t&&(t={});var o=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css","top"===o&&r.firstChild?r.insertBefore(l,r.firstChild):r.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e))}}(".style-module_starRatingWrap__q-lJC{display:inline-block;touch-action:none}.style-module_simpleStarRating__nWUxf{display:inline-block;overflow:hidden;position:relative;touch-action:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap}.style-module_fillIcons__6---A{display:inline-block;overflow:hidden;position:absolute;top:0;white-space:nowrap}.style-module_emptyIcons__Bg-FZ{display:inline-block}.style-module_tooltip__tKc3i{background-color:#333;border-radius:5px;color:#fff;display:inline-block;padding:5px 15px;vertical-align:middle}"),t.i=function(e){var t,o,d=e.onClick,u=e.onPointerMove,p=e.onPointerEnter,v=e.onPointerLeave,h=e.initialValue,f=void 0===h?0:h,m=e.iconsCount,g=void 0===m?5:m,x=e.size,y=void 0===x?40:x,j=e.readonly,b=void 0!==j&&j,w=e.rtl,C=void 0!==w&&w,V=e.customIcons,_=void 0===V?[]:V,k=e.allowFraction,N=void 0!==k&&k,S=e.style,L=e.className,M=e.transition,H=e.allowHover,G=void 0===H||H,I=e.disableFillHover,P=void 0!==I&&I,E=e.fillIcon,R=void 0===E?null:E,O=e.fillColor,z=e.fillColorArray,Z=e.fillStyle,A=e.fillClassName,B=e.emptyIcon,T=void 0===B?null:B,W=e.emptyColor,F=e.emptyStyle,U=e.emptyClassName,q=e.allowTitleTag,D=e.showTooltip,X=e.tooltipDefaultText,K=e.tooltipArray,$=void 0===K?[]:K,J=e.tooltipStyle,Y=e.tooltipClassName,Q=e.SVGclassName,ee=void 0===Q?"star-svg":Q,et=e.titleSeparator,eo=e.SVGstyle,er=e.SVGstorkeWidth,el=void 0===er?0:er,en=e.SVGstrokeColor,ei=void 0===en?"currentColor":en,ea=l.useReducer(s,{hoverIndex:0,valueIndex:0,ratingValue:f,hoverValue:null}),es=ea[0],ec=es.ratingValue,ed=es.hoverValue,eu=es.hoverIndex,ep=es.valueIndex,ev=ea[1];l.useEffect(function(){f&&ev({type:"MouseClick",payload:0})},[f]);var eh=l.useMemo(function(){return N?2*g:g},[N,g]),ef=l.useMemo(function(){return f>eh?0:N||Math.floor(f)===f?Math.round(f/g*100):2*Math.ceil(f)*10},[N,f,g,eh]),em=l.useMemo(function(){return(N?2*f-1:f-1)||0},[N,f]),eg=l.useCallback(function(e){return g%2!=0?e/2/10:e*g/100},[g]),ex=function(e){for(var t=e.clientX,o=e.currentTarget.children[0].getBoundingClientRect(),r=o.left,l=o.right,n=o.width,i=C?l-t:t-r,a=eh,s=Math.round(n/eh),c=0;c<=eh;c+=1)if(i<=s*c){a=0===c&&i<s?0:c;break}var d=a-1;a>0&&(ev({type:"PointerMove",payload:100*a/eh,index:d}),u&&ed&&u(eg(ed),d,e))},ey=function(e){ed&&(ev({type:"MouseClick",payload:ed}),d&&d(eg(ed),eu,e))},ej=l.useMemo(function(){if(G){if(P){var e=ec&&ec||ef;return ed&&ed>e?ed:e}return ed&&ed||ec&&ec||ef}return ec&&ec||ef},[G,P,ed,ec,ef]);l.useEffect(function(){$.length>eh&&console.error("tooltipArray Array length is bigger then Icons Count length.")},[$.length,eh]);var eb=l.useCallback(function(e){return ed&&e[eu]||ec&&e[ep]||f&&e[em]},[ed,eu,ec,ep,f,em]),ew=l.useMemo(function(){return ed&&eg(ed)||ec&&eg(ec)||f&&eg(ef)},[ed,eg,ec,f,ef]);return r.jsxs("span",n({className:"style-module_starRatingWrap__q-lJC",style:{direction:"".concat(C?"rtl":"ltr")}},{children:[r.jsxs("span",n({className:"".concat("style-module_simpleStarRating__nWUxf"," ").concat(void 0===L?"react-simple-star-rating":L),style:n({cursor:b?"":"pointer"},S),onPointerMove:b?void 0:ex,onPointerEnter:b?void 0:function(e){p&&p(e),c()&&ex(e)},onPointerLeave:b?void 0:function(e){c()&&ey(),ev({type:"PointerLeave"}),v&&v(e)},onClick:b?void 0:ey,"aria-hidden":"true"},{children:[r.jsx("span",n({className:"".concat("style-module_emptyIcons__Bg-FZ"," ").concat(void 0===U?"empty-icons":U),style:n({color:void 0===W?"#cccccc":W},F)},{children:i([],Array(g),!0).map(function(e,t){var o;return r.jsx(l.Fragment,{children:(null===(o=_[t])||void 0===o?void 0:o.icon)||T||r.jsx(a,{SVGclassName:ee,SVGstyle:eo,SVGstorkeWidth:el,SVGstrokeColor:ei,size:y})},t)})})),r.jsx("span",n({className:"".concat("style-module_fillIcons__6---A"," ").concat(void 0===A?"filled-icons":A),style:n(((t={})[C?"right":"left"]=0,t.color=eb(void 0===z?[]:z)||(void 0===O?"#ffbc0b":O),t.transition=void 0!==M&&M?"width .2s ease, color .2s ease":"",t.width="".concat(ej,"%"),t),Z),title:void 0===q||q?"".concat(ew," ").concat(void 0===et?"out of":et," ").concat(g):void 0},{children:i([],Array(g),!0).map(function(e,t){var o;return r.jsx(l.Fragment,{children:(null===(o=_[t])||void 0===o?void 0:o.icon)||R||r.jsx(a,{SVGclassName:ee,SVGstyle:eo,SVGstorkeWidth:el,SVGstrokeColor:ei,size:y})},t)})}))]})),void 0!==D&&D&&r.jsx("span",n({className:"".concat("style-module_tooltip__tKc3i"," ").concat(void 0===Y?"react-simple-star-rating-tooltip":Y),style:n(((o={})[C?"marginRight":"marginLeft"]=20,o),J)},{children:($.length>0?eb($):ew)||(void 0===X?"Your Rate":X)}))]}))}},25178:function(e,t,o){var r=o(64090),l=r&&"object"==typeof r&&"default"in r?r:{default:r},n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},i=function(e,t){var o={};for(var r in e)!(t.indexOf(r)>=0)&&Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r]);return o},a=function(e){var t=e.color,o=e.size,r=void 0===o?24:o,a=(e.children,i(e,["color","size","children"])),s="remixicon-icon "+(a.className||"");return l.default.createElement("svg",n({},a,{className:s,width:r,height:r,fill:void 0===t?"currentColor":t,viewBox:"0 0 24 24"}),l.default.createElement("path",{d:"M3 19h18v2H3v-2zM13 5.828V17h-2V5.828L4.929 11.9l-1.414-1.414L12 2l8.485 8.485-1.414 1.414L13 5.83z"}))},s=l.default.memo?l.default.memo(a):a;e.exports=s},30072:function(e,t,o){var r,l;o.d(t,{X:function(){return r}}),(l=r||(r={})).BANNER="banners",l.BRAND="brands",l.CATEGORY="categories",l.SHOP="shops",l.SHOP_LOGO="shops/logo",l.SHOP_BG="shops/background",l.REVIEW="reviews",l.USER="users"}}]);