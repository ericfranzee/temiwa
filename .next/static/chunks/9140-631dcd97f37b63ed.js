"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9140],{67379:function(e,t,s){var r=s(3827);t.Z=e=>{let{size:t,...s}=e;return(0,r.jsx)("svg",{width:t||"26",height:t||"26",...s,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M12.9998 2.16699C7.01984 2.16699 2.1665 7.02033 2.1665 13.0003C2.1665 18.9803 7.01984 23.8337 12.9998 23.8337C18.9798 23.8337 23.8332 18.9803 23.8332 13.0003C23.8332 7.02033 18.9798 2.16699 12.9998 2.16699ZM13.3573 18.417C13.1623 18.482 12.8265 18.482 12.6315 18.417C10.9415 17.8428 7.14984 15.427 7.14984 11.332C7.14984 9.52283 8.6015 8.06033 10.3998 8.06033C11.4615 8.06033 12.404 8.56949 12.9998 9.37116C13.5848 8.58032 14.5382 8.06033 15.5998 8.06033C17.3982 8.06033 18.8498 9.52283 18.8498 11.332C18.8498 15.427 15.0582 17.8428 13.3573 18.417Z",fill:"currentColor"})})}},86841:function(e,t,s){var r=s(3827);s(64090),t.Z=e=>{let{size:t,...s}=e;return(0,r.jsxs)("svg",{width:t||"36",height:t||"36",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",...s,children:[(0,r.jsx)("path",{d:"M18 33C26.2843 33 33 26.2843 33 18C33 9.71573 26.2843 3 18 3C9.71573 3 3 9.71573 3 18C3 26.2843 9.71573 33 18 33Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M18.4954 26.175C18.2254 26.265 17.7604 26.265 17.4904 26.175C15.1504 25.38 9.90039 22.0349 9.90039 16.3649C9.90039 13.8599 11.9104 11.835 14.4004 11.835C15.8704 11.835 17.1754 12.5399 18.0004 13.6499C18.8104 12.5549 20.1304 11.835 21.6004 11.835C24.0904 11.835 26.1004 13.8599 26.1004 16.3649C26.1004 22.0349 20.8504 25.38 18.4954 26.175Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}},47348:function(e,t,s){var r=s(3827);t.Z=()=>(0,r.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M13.7467 5.63317C13.0467 2.55317 10.3601 1.1665 8.00006 1.1665C8.00006 1.1665 8.00006 1.1665 7.9934 1.1665C5.64006 1.1665 2.94673 2.5465 2.24673 5.6265C1.46673 9.0665 3.5734 11.9798 5.48006 13.8132C6.18673 14.4932 7.0934 14.8332 8.00006 14.8332C8.90673 14.8332 9.8134 14.4932 10.5134 13.8132C12.4201 11.9798 14.5267 9.07317 13.7467 5.63317ZM8.00006 8.97317C6.84006 8.97317 5.90006 8.03317 5.90006 6.87317C5.90006 5.71317 6.84006 4.77317 8.00006 4.77317C9.16006 4.77317 10.1001 5.71317 10.1001 6.87317C10.1001 8.03317 9.16006 8.97317 8.00006 8.97317Z",fill:"currentColor"})})},2225:function(e,t,s){var r=s(3827);t.Z=e=>{let{size:t=20}=e;return(0,r.jsx)("svg",{viewBox:"0 0 24 24","aria-hidden":"true","data-testid":"verificationBadge",version:"1.1",id:"svg965",xmlns:"http://www.w3.org/2000/svg",fill:"#fff",width:t,height:t,children:(0,r.jsx)("g",{id:"g963",children:(0,r.jsx)("path",{d:"M22.25 12c0-1.43-.88-2.67-2.19-3.34.46-1.39.2-2.9-.81-3.91s-2.52-1.27-3.91-.81c-.66-1.31-1.91-2.19-3.34-2.19s-2.67.88-3.33 2.19c-1.4-.46-2.91-.2-3.92.81s-1.26 2.52-.8 3.91c-1.31.67-2.2 1.91-2.2 3.34s.89 2.67 2.2 3.34c-.46 1.39-.21 2.9.8 3.91s2.52 1.26 3.91.81c.67 1.31 1.91 2.19 3.34 2.19s2.68-.88 3.34-2.19c1.39.45 2.9.2 3.91-.81s1.27-2.52.81-3.91c1.31-.67 2.19-1.91 2.19-3.34zm-11.71 4.2L6.8 12.46l1.41-1.42 2.26 2.26 4.8-5.23 1.47 1.36-6.2 6.77z",id:"path961",fill:"#42A5F5"})})})}},16603:function(e,t,s){s.r(t),s.d(t,{ImageWithFallBack:function(){return d}});var r=s(3827),l=s(20703),i=s(64090),n=s(91774);let o=e=>'\n<svg width="100%" height="100%" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n  <defs>\n    <linearGradient id="g">\n      <stop \n      stop-color="'.concat(e?"#383838":"#E2E2E2",'" offset="20%" />\n      <stop stop-color="').concat(e?"#A0A09C":"#F6F6F6",'" offset="50%" />\n<stop stop-color="').concat(e?"#383838":"#E2E2E2",'" offset="70%" />\n</linearGradient>\n</defs>\n      <rect width="100%" height="100%" fill="').concat(e?"#383838":"#E2E2E2",'" />\n      <rect id="r" width="100%" height="100%" fill="url(#g)" />\n      <animate xlink:href="#r" attributeName="x" from="-100%" to="100%" dur="1s" repeatCount="indefinite"  />\n</svg>'),a=e=>window.btoa(e),d=e=>{let{src:t,loader:s,...d}=e,[c,u]=(0,i.useState)(!1),{theme:h}=(0,n.F)();return(0,r.jsx)(l.default,{...d,loader:c?void 0:s,src:c?"/img/image-load-failed.png":t,placeholder:"data:image/svg+xml;base64,".concat(a(o("dark"===h))),onError:()=>{u(!0)}})}},81658:function(e,t,s){s.d(t,{I:function(){return r.ImageWithFallBack}});var r=s(16603)},29881:function(e,t,s){s.d(t,{G:function(){return p}});var r=s(3827);s(64090);var l=s(8792),i=s(81658),n=s(20703),o=s(47348),a=s(32635),d=s(21406),c=s(97486),u=s(86841),h=s(67379),v=s(70577),g=s(2225),f=s(34734),x=s(98313);let p=e=>{var t,s,p,m,w;let{data:j}=e,{t:C}=(0,a.$G)(),{isLiked:k,handleLikeDisLike:b}=(0,c.U)("shop",j.id),{settings:y}=(0,x.r)();return(0,r.jsxs)("div",{className:"relative rounded-button overflow-hidden group shadow-storeCard justify-start",children:[(0,r.jsx)("div",{className:"absolute top-3 left-3 z-[1] text-dark",children:(0,r.jsx)(v.h,{onClick:b,children:k?(0,r.jsx)(h.Z,{}):(0,r.jsx)(u.Z,{size:26})})}),(null==y?void 0:y.shop_reviews_enabled)==="1"&&(0,r.jsx)("div",{className:"absolute top-3 right-3 rounded-button border border-white w-7 h-7 flex items-center justify-center z-[1] bg-white bg-opacity-60",children:(0,r.jsx)("span",{className:"text-sm font-semibold",children:j.r_avg||0})}),(0,r.jsxs)(l.default,{href:"/shops/".concat(j.slug),scroll:!0,children:[(0,r.jsxs)("div",{className:"relative aspect-[2/1]",children:[(0,r.jsx)(i.I,{src:j.background_img,alt:(null===(t=j.translation)||void 0===t?void 0:t.title)||"",fill:!0,className:"object-cover transition-all group-hover:scale-105"}),(0,r.jsx)("div",{className:"absolute -bottom-5 rounded-full bg-white w-10 h-10 left-6 flex items-center justify-center z-[1]",children:(0,r.jsx)(n.default,{src:j.logo_img,alt:(null===(s=j.translation)||void 0===s?void 0:s.title)||"shoplogo",width:36,height:36,className:"rounded-full object-cover w-9 h-9"})})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-3 z-[2] xl:pb-5 xl:px-6 lg:pb-3 lg:px-3 pb-2 px-5",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mt-7",children:[(0,r.jsx)("strong",{className:(0,f.Z)("md:text-lg text-base font-semibold",(null==j?void 0:j.verify)&&"line-clamp-1"),children:null===(p=j.translation)||void 0===p?void 0:p.title}),(null==j?void 0:j.verify)&&(0,r.jsx)("span",{children:(0,r.jsx)(g.Z,{})})]}),(0,r.jsx)("span",{className:"md:text-sm text-xs text-gray-field line-clamp-2",children:null===(m=j.translation)||void 0===m?void 0:m.description})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(o.Z,{}),(0,r.jsx)("span",{className:"text-xs text-gray-field line-clamp-1",children:null==j?void 0:null===(w=j.translation)||void 0===w?void 0:w.address})]}),(null==y?void 0:y.shop_reviews_enabled)==="1"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"h-px w-full bg-gray-link"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"md:text-sm text-xs font-medium",children:C((0,d.j)(j.r_avg))}),(0,r.jsx)("div",{className:"bg-footerBg rounded-full w-1 h-1"}),(0,r.jsxs)("span",{className:"md:text-sm text-xs font-normal",children:[j.r_count||0," ",C("reviews")]})]})]})]})]})]})}},97486:function(e,t,s){s.d(t,{U:function(){return u}});var r=s(61429),l=s(64095),i=s(8186),n=s(25659),o=s(61916),a=s(64090),d=s(15494);let c=e=>{switch(e){case"shop":return"likedShops";case"product":return"likedProducts";case"master":return"likedMasters";default:return e}},u=(e,t)=>{var s;let u=(0,l.NL)(),h=(0,o.Z)(e=>e.user),{list:v,likeOrDislike:g}=(0,r.Z)(),f=null===(s=v[e])||void 0===s?void 0:s.some(e=>e.itemId===t),x=(0,d.Z)(e=>e.country),p=(0,d.Z)(e=>e.city),{mutate:m}=(0,i.D)({mutationFn:e=>n.h.like({...e,region_id:null==x?void 0:x.region_id,country_id:null==x?void 0:x.id,city_id:null==p?void 0:p.id})}),{mutate:w}=(0,i.D)({mutationFn:e=>n.h.dislike(e),onMutate:async t=>{await u.cancelQueries([c(e)],{exact:!1});let s=u.getQueryData([c(e)],{exact:!1});return console.log("prevLikeList => ",s),u.setQueriesData({queryKey:[c(e)],exact:!1},e=>(console.log("old",e),null==e?void 0:e.pages)?{...e,pages:e.pages.map(e=>({...e,data:e.data.filter(e=>e.id!==t.type_id)}))}:s),{prevLikeList:s}},onError:(t,s,r)=>{u.setQueryData([e],null==r?void 0:r.prevLikeList)},onSettled:()=>{let t=c(e);u.invalidateQueries({queryKey:[t],exact:!1})}});return{handleLikeDisLike:(0,a.useCallback)(()=>{t&&(h&&(f?w({type_id:t,type:e}):m({type_id:t,type:e})),g(e,t,!!h),console.log("fired",t))},[e,t,null==h?void 0:h.id]),isLiked:f}}},25659:function(e,t,s){s.d(t,{h:function(){return i}});var r=s(31995),l=s(68466);let i={getAll:e=>(0,r.Z)((0,l.d)("v1/dashboard/likes",e)),getShopAll:e=>(0,r.Z)((0,l.d)("v1/dashboard/likes",e)),getMasterAll:e=>(0,r.Z)((0,l.d)("v1/dashboard/likes",e)),like:e=>r.Z.post("v1/dashboard/likes",{body:e}),dislike:e=>r.Z.delete("v1/dashboard/likes/".concat(e.type_id,"?type=").concat(e.type)),likeMany:e=>r.Z.post("v1/dashboard/like/store-many",{body:e})}},26936:function(e,t,s){s.d(t,{m:function(){return i}});var r=s(31995),l=s(68466);let i={getAll:e=>(0,r.Z)((0,l.d)("v1/rest/shops/paginate",e)),create:e=>r.Z.post("v1/dashboard/user/shops",{body:e}),getById:(e,t)=>(0,r.Z)((0,l.d)("v1/rest/shops/".concat(e),t),{cache:"no-cache",redirectOnError:!0}),getBySlug:(e,t)=>(0,r.Z)((0,l.d)("v1/rest/shops/slug/".concat(e),t),{cache:"no-store",redirectOnError:!0}),gellery:e=>(0,r.Z)("v1/rest/shops/slug/".concat(e,"/galleries"),{redirectOnError:!0}),getByIds:e=>(0,r.Z)((0,l.d)("v1/rest/shops/paginate",e)),getAllTags:e=>(0,r.Z)((0,l.d)("v1/rest/shops-takes",e)),getShopFilters:()=>(0,r.Z)("v1/rest/shop-filter")}},21406:function(e,t,s){s.d(t,{j:function(){return r}});let r=e=>{if(null!=e){if(e<=1)return"very.bad";if(e<=2)return"bad";if(e<=3)return"not.bad";if(e<=4)return"good";if(e<=4.5)return"very.good";if(e<=5)return"exceptional"}return"new"}},16777:function(e,t,s){s.d(t,{v:function(){return r}});let r=e=>null==e?void 0:e.reduce((e,t)=>e.concat(t.data),[])}}]);