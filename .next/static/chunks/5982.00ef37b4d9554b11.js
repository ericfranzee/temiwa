"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5982],{55982:function(d,e,i){i.r(e);var a=i(3827),t=i(64095),n=i(9988),o=i(8186),s=i(91705),u=i(15494),r=i(54965),l=i(42776),v=i(44774),c=i(70566),y=i(66518);e.default=d=>{let{id:e,onCancel:i,onSuccess:_,deliveryPrice:p}=d,g=(0,u.Z)(d=>d.country),k=(0,t.NL)(),{data:f,isFetching:h}=(0,n.a)(["address",e],()=>s.W.get(e)),{mutate:m,isLoading:C}=(0,o.D)({mutationFn:d=>{var e;return s.W.update(null==f?void 0:null===(e=f.data)||void 0===e?void 0:e.id,d)},onError:d=>(0,l.vU)(d.message)}),{dispatch:b,state:E}=(0,c.useCheckout)();return h?(0,a.jsx)(r.W,{}):(0,a.jsx)(y.Z,{data:null==f?void 0:f.data,isButtonLoading:C,onCancel:i,onSubmit:d=>{var e;m({...d,region_id:null==g?void 0:g.region_id,country_id:null==g?void 0:g.id,city_id:null===(e=d.city)||void 0===e?void 0:e.id},{onSuccess:d=>{var e;d.data.id===(null===(e=E.deliveryAddress)||void 0===e?void 0:e.id)&&b({type:v.Y.UpdateDeliveryAddress,payload:{address:d.data,deliveryPrice:p}}),_()},onSettled:()=>{k.invalidateQueries(["addresses"])}})}})}}}]);