"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9404,1454],{2986:function(e,l,i){i.r(l),i.d(l,{ServiceDetail:function(){return w}});var t=i(3827),s=i(9988),n=i(98313),d=i(2008),r=i(12694),a=i(45943),c=i(32635),o=i(96107),u=i(47907),v=i(866),x=i(86926),m=i(97864),h=i(64090),f=i(54965),p=i(41151),j=i(93049),b=i(33089),g=e=>{let{extras:l,setSelectedExtras:i,selectedExtras:s}=e,{t:n}=(0,c.$G)(),d=s.map(e=>e.id);return(0,t.jsx)("div",{className:"block my-10",children:(0,t.jsxs)(p.R,{value:d,onChange:e=>{i((null==l?void 0:l.filter(l=>e.includes(l.id)))||[])},multiple:!0,children:[(0,t.jsx)(p.R.Label,{className:"block mb-5 font-semibold text-xl",children:n("select.extra")}),(0,t.jsx)("div",{className:"space-y-2",children:null==l?void 0:l.map(e=>(0,t.jsx)(p.R.Option,{value:e.id,className:e=>{let{selected:l}=e;return"".concat(l?"border-dark":"border-gray-link"," relative flex cursor-pointer rounded-lg px-5 py-3 focus:outline-none border")},children:l=>{var i;let{selected:s}=l;return(0,t.jsx)("div",{className:"flex w-full items-center justify-between",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[s?(0,t.jsx)(j.H,{size:18}):(0,t.jsx)("span",{className:"text-gray-link",children:(0,t.jsx)(b.Z,{size:18})}),(0,t.jsxs)("div",{className:"text-md flex flex-col gap-y-1",children:[(0,t.jsx)(p.R.Label,{as:"p",className:"font-medium",children:null==e?void 0:null===(i=e.translation)||void 0===i?void 0:i.title}),(0,t.jsx)(p.R.Label,{as:"p",className:"font-medium text-md",children:(0,t.jsx)(r.t,{number:(null==e?void 0:e.price)||0})})]})]})})}},null==e?void 0:e.id))})]})})};let w=e=>{var l,i,p,j,b,w,N,y,C,k,_,S;let{id:z,isBookingPage:B}=e,{t:R}=(0,c.$G)(),E=(0,u.useRouter)(),{dispatch:L,state:M}=(0,x.v)(),W=(0,u.useParams)(),{language:Z,currency:I}=(0,n.r)(),{setQueryParams:H}=(0,v.K)(),{data:P,isLoading:Y}=(0,s.a)(["service",z,null==Z?void 0:Z.locale],()=>d.o.getById(z,{lang:null==Z?void 0:Z.locale,currency_id:null==I?void 0:I.id}),{enabled:!!z}),G=null===(l=M.services)||void 0===l?void 0:l.find(e=>{var l;return(null==e?void 0:e.id)===(null==P?void 0:null===(l=P.data)||void 0===l?void 0:l.id)}),[U,$]=(0,h.useState)((null==G?void 0:G.selected_extras)||[]),A=(0,h.useMemo)(()=>U.reduce((e,l)=>e+(l.price||0),0),[U]),D=(null!==(k=null!==(C=null!==(y=null==P?void 0:P.data.min_price)&&void 0!==y?y:null==P?void 0:P.data.price)&&void 0!==C?C:null==P?void 0:P.data.total_price)&&void 0!==k?k:0)+A,K=e=>{if(null==P?void 0:P.data){var l,i;let t=P.data;if(M.master){let e=null===(l=M.master.service_masters)||void 0===l?void 0:l.find(e=>e.service_id===Number(z)),i={...M.master,service_master:e||null};e&&(t.master=i)}let s={...P.data,selected_extras:U};switch(e){case"select":L({type:m.Y.SelectService,payload:s});break;case"update":L({type:m.Y.UpdateService,payload:s});break;case"unselect":L({type:m.Y.UnselectService,payload:null==P?void 0:null===(i=P.data)||void 0===i?void 0:i.id})}}if(!B){E.push("/shops/".concat(W.id,"/booking?offerId=").concat(z));return}H({offerId:z,serviceId:void 0})};return Y?(0,t.jsx)("div",{children:(0,t.jsx)(f.W,{})}):(0,t.jsxs)("div",{className:"sm:pt-12 pb-7 sm:px-12 pt-16 px-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("strong",{className:"text-head font-semibold",children:null==P?void 0:null===(p=P.data)||void 0===p?void 0:null===(i=p.translation)||void 0===i?void 0:i.title}),(0,t.jsx)("span",{className:"text-lg font-semibold",children:(0,t.jsx)(r.t,{number:D})})]}),(0,t.jsx)("span",{className:"text-sm",children:null==P?void 0:null===(j=P.data.translation)||void 0===j?void 0:j.description}),(0,t.jsx)("div",{className:"flex items-center gap-2 flex-wrap my-5",children:(0,t.jsx)("div",{className:"border border-gray-field rounded-full py-2 px-5",children:(0,t.jsxs)("span",{className:"text-base text-gray-field",children:[null==P?void 0:P.data.interval," ",(0,t.jsx)(o.v,{value:"min"})]})})}),!!(null==P?void 0:null===(w=P.data)||void 0===w?void 0:null===(b=w.service_extras)||void 0===b?void 0:b.length)&&(0,t.jsx)(g,{extras:null==P?void 0:null===(N=P.data)||void 0===N?void 0:N.service_extras,selectedExtras:U,setSelectedExtras:$}),(0,t.jsx)("div",{className:"h-px w-full bg-gray-link my-10"}),(0,t.jsx)("div",{className:"flex items-center gap-10",children:(0,t.jsxs)("div",{className:"flex flex-col mb-2 md:hidden md:m-0",children:[(0,t.jsx)("span",{className:"text-sm text-gray-field",children:R("price")}),(0,t.jsx)("span",{className:"text-head font-semibold whitespace-nowrap",children:(0,t.jsx)(r.t,{number:D})})]})}),(null==G?void 0:null===(_=G.selected_extras)||void 0===_?void 0:_.length)?(0,t.jsxs)("div",{className:"flex justify-between items-center gap-3",children:[(0,t.jsx)(a.z,{fullWidth:!0,color:"white",onClick:()=>K("unselect"),className:"border border-footerBg",children:R("remove")}),(0,t.jsx)(a.z,{fullWidth:!0,color:"black",onClick:()=>K("update"),children:R("update")})]}):(null===(S=M.services)||void 0===S?void 0:S.find(e=>{var l;return(null==e?void 0:e.id)===(null==P?void 0:null===(l=P.data)||void 0===l?void 0:l.id)}))?(0,t.jsx)(a.z,{fullWidth:!0,color:"white",onClick:()=>K("unselect"),className:"border border-footerBg",children:R("remove")}):(0,t.jsx)(a.z,{fullWidth:!0,color:"black",onClick:()=>K("select"),children:R("book.now")})]})}},33089:function(e,l,i){var t=i(3827);i(64090),l.Z=e=>{let{size:l}=e;return(0,t.jsxs)("svg",{width:l||"22",height:l||"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("g",{clipPath:"url(#clip0_1_1519)",children:(0,t.jsx)("path",{d:"M10.9997 20.1667C5.93692 20.1667 1.83301 16.0628 1.83301 11C1.83301 5.93726 5.93692 1.83334 10.9997 1.83334C16.0624 1.83334 20.1663 5.93726 20.1663 11C20.1663 16.0628 16.0624 20.1667 10.9997 20.1667ZM10.9997 18.3333C12.9446 18.3333 14.8099 17.5607 16.1851 16.1855C17.5604 14.8102 18.333 12.9449 18.333 11C18.333 9.05509 17.5604 7.18983 16.1851 5.81456C14.8099 4.43929 12.9446 3.66668 10.9997 3.66668C9.05475 3.66668 7.18949 4.43929 5.81422 5.81456C4.43896 7.18983 3.66634 9.05509 3.66634 11C3.66634 12.9449 4.43896 14.8102 5.81422 16.1855C7.18949 17.5607 9.05475 18.3333 10.9997 18.3333Z",fill:"currentColor"})}),(0,t.jsx)("defs",{children:(0,t.jsx)("clipPath",{id:"clip0_1_1519",children:(0,t.jsx)("rect",{width:"22",height:"22",fill:"white"})})})]})}},93049:function(e,l,i){i.d(l,{H:function(){return s}});var t=i(3827);let s=e=>{let{size:l=14}=e;return(0,t.jsxs)("svg",{width:l,height:l,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("path",{d:"M7 14C3.1339 14 0 10.8661 0 7C0 3.1339 3.1339 0 7 0C10.8661 0 14 3.1339 14 7C14 10.8661 10.8661 14 7 14Z",fill:"#080210"}),(0,t.jsx)("circle",{cx:"6.99935",cy:"6.99984",r:"2.33333",fill:"white"})]})}},71454:function(e,l,i){i.d(l,{f:function(){return d}});var t=i(64090),s=i(39790);function n(e){var l;if(e.type)return e.type;let i=null!=(l=e.as)?l:"button";if("string"==typeof i&&"button"===i.toLowerCase())return"button"}function d(e,l){let[i,d]=(0,t.useState)(()=>n(e));return(0,s.e)(()=>{d(n(e))},[e.type,e.as]),(0,s.e)(()=>{i||l.current&&l.current instanceof HTMLButtonElement&&!l.current.hasAttribute("type")&&d("button")},[i,l]),i}}}]);